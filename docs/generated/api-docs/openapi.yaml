openapi: 3.0.3
info:
  title: 'Laravel API'
  description: 'Headless content platform: entries, taxonomies, media, auth.'
  version: 1.0.0
servers:
  -
    url: 'http://localhost/api/v1'
tags:
  -
    name: 'Admin ▸ Entries'
    description: ''
  -
    name: 'Admin ▸ Entry terms'
    description: ''
  -
    name: 'Admin ▸ Media'
    description: ''
  -
    name: 'Admin ▸ Options'
    description: ''
  -
    name: 'Admin ▸ Path reservations'
    description: ''
  -
    name: 'Admin ▸ Plugins'
    description: ''
  -
    name: 'Admin ▸ Post types'
    description: ''
  -
    name: 'Admin ▸ Search'
    description: ''
  -
    name: 'Admin ▸ Taxonomies'
    description: ''
  -
    name: 'Admin ▸ Templates'
    description: ''
  -
    name: 'Admin ▸ Terms'
    description: ''
  -
    name: 'Admin ▸ Utils'
    description: ''
  -
    name: Auth
    description: ''
  -
    name: Endpoints
    description: ''
  -
    name: Media
    description: ''
  -
    name: Search
    description: ''
components:
  securitySchemes:
    default:
      type: http
      scheme: bearer
      description: 'Получите JWT через <code>POST /api/v1/auth/login</code> или используйте refresh endpoint.'
security:
  -
    default: []
paths:
  /api/v1/admin/entries/statuses:
    get:
      summary: 'Получение списка возможных статусов записей.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    - draft
                    - published
                properties:
                  data:
                    type: array
                    example:
                      - draft
                      - published
                    items:
                      type: string
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 9f51ce7c-eed5-43b8-b7cb-6c30033f3f5e
                    reason: missing_token
                  trace_id: 00-9f51ce7ceed543b8b7cb6c30033f3f5e-9f51ce7ceed543b8-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 9f51ce7c-eed5-43b8-b7cb-6c30033f3f5e
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-9f51ce7ceed543b8b7cb6c30033f3f5e-9f51ce7ceed543b8-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e9f51ce7c
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e9f51ce7c-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e9f51ce7c
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e9f51ce7c-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
  /api/v1/admin/entries:
    get:
      summary: 'Список записей с фильтрами и пагинацией.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: post_type
          description: 'Фильтр по slug PostType.'
          example: article
          required: false
          schema:
            type: string
            description: 'Фильтр по slug PostType.'
            example: article
            nullable: false
        -
          in: query
          name: status
          description: 'Фильтр по статусу. Values: all,draft,published,scheduled,trashed. Default: all.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Фильтр по статусу. Values: all,draft,published,scheduled,trashed. Default: all.'
            example: consequatur
            nullable: false
        -
          in: query
          name: q
          description: 'Поиск по названию/slug (<=500 символов).'
          example: landing
          required: false
          schema:
            type: string
            description: 'Поиск по названию/slug (<=500 символов).'
            example: landing
            nullable: false
        -
          in: query
          name: author_id
          description: 'ID автора.'
          example: 7
          required: false
          schema:
            type: integer
            description: 'ID автора.'
            example: 7
            nullable: false
        -
          in: query
          name: 'term[]'
          description: 'ID термов (множественный фильтр).'
          example: 0
          required: false
          schema:
            type: integer
            description: 'ID термов (множественный фильтр).'
            example: 0
            nullable: false
        -
          in: query
          name: date_field
          description: 'Поле даты для диапазона. Values: updated,published. Default: updated.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Поле даты для диапазона. Values: updated,published. Default: updated.'
            example: consequatur
            nullable: false
        -
          in: query
          name: date_from
          description: 'date Начальная дата (ISO 8601).'
          example: '2025-01-01'
          required: false
          schema:
            type: string
            description: 'date Начальная дата (ISO 8601).'
            example: '2025-01-01'
            nullable: false
        -
          in: query
          name: date_to
          description: 'date Конечная дата (>= date_from).'
          example: '2025-01-31'
          required: false
          schema:
            type: string
            description: 'date Конечная дата (>= date_from).'
            example: '2025-01-31'
            nullable: false
        -
          in: query
          name: sort
          description: 'Поле сортировки. Values: updated_at.desc,updated_at.asc,published_at.desc,published_at.asc,title.asc,title.desc. Default: updated_at.desc.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Поле сортировки. Values: updated_at.desc,updated_at.asc,published_at.desc,published_at.asc,title.asc,title.desc. Default: updated_at.desc.'
            example: consequatur
            nullable: false
        -
          in: query
          name: per_page
          description: 'Количество элементов на страницу (10-100). Default: 15.'
          example: 17
          required: false
          schema:
            type: integer
            description: 'Количество элементов на страницу (10-100). Default: 15.'
            example: 17
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 42
                      post_type: article
                      title: 'Headless CMS launch checklist'
                      slug: launch-checklist
                      status: draft
                      content_json: {  }
                      meta_json: {  }
                      is_published: false
                      published_at: null
                      template_override: null
                      created_at: '2025-01-10T12:00:00+00:00'
                      updated_at: '2025-01-10T12:00:00+00:00'
                      deleted_at: null
                  links:
                    first: 'https://api.stupidcms.dev/api/v1/admin/entries?page=1'
                    last: 'https://api.stupidcms.dev/api/v1/admin/entries?page=5'
                    prev: null
                    next: 'https://api.stupidcms.dev/api/v1/admin/entries?page=2'
                  meta:
                    current_page: 1
                    last_page: 5
                    per_page: 15
                    total: 74
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 42
                        post_type: article
                        title: 'Headless CMS launch checklist'
                        slug: launch-checklist
                        status: draft
                        content_json: []
                        meta_json: []
                        is_published: false
                        published_at: null
                        template_override: null
                        created_at: '2025-01-10T12:00:00+00:00'
                        updated_at: '2025-01-10T12:00:00+00:00'
                        deleted_at: null
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 42
                        post_type:
                          type: string
                          example: article
                        title:
                          type: string
                          example: 'Headless CMS launch checklist'
                        slug:
                          type: string
                          example: launch-checklist
                        status:
                          type: string
                          example: draft
                        content_json:
                          type: object
                          properties: {  }
                        meta_json:
                          type: object
                          properties: {  }
                        is_published:
                          type: boolean
                          example: false
                        published_at:
                          type: string
                          example: null
                        template_override:
                          type: string
                          example: null
                        created_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        deleted_at:
                          type: string
                          example: null
                  links:
                    type: object
                    properties:
                      first:
                        type: string
                        example: 'https://api.stupidcms.dev/api/v1/admin/entries?page=1'
                      last:
                        type: string
                        example: 'https://api.stupidcms.dev/api/v1/admin/entries?page=5'
                      prev:
                        type: string
                        example: null
                      next:
                        type: string
                        example: 'https://api.stupidcms.dev/api/v1/admin/entries?page=2'
                  meta:
                    type: object
                    properties:
                      current_page:
                        type: integer
                        example: 1
                      last_page:
                        type: integer
                        example: 5
                      per_page:
                        type: integer
                        example: 15
                      total:
                        type: integer
                        example: 74
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: f51ce7c9-eed5-43b8-b7cb-6c30033f3f5e
                    reason: missing_token
                  trace_id: 00-f51ce7c9eed543b8b7cb6c30033f3f5e-f51ce7c9eed543b8-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: f51ce7c9-eed5-43b8-b7cb-6c30033f3f5e
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-f51ce7c9eed543b8b7cb6c30033f3f5e-f51ce7c9eed543b8-01
        403:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/forbidden'
                  title: Forbidden
                  status: 403
                  code: FORBIDDEN
                  detail: 'Admin privileges are required.'
                  meta:
                    request_id: 0b6c3003-3f5e-9f51-ce7c-eed543b8b7cb
                    permission: entries.view
                  trace_id: 00-0b6c30033f5e9f51ce7ceed543b8b7cb-0b6c30033f5e9f51-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/forbidden'
                  title:
                    type: string
                    example: Forbidden
                  status:
                    type: integer
                    example: 403
                  code:
                    type: string
                    example: FORBIDDEN
                  detail:
                    type: string
                    example: 'Admin privileges are required.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 0b6c3003-3f5e-9f51-ce7c-eed543b8b7cb
                      permission:
                        type: string
                        example: entries.view
                  trace_id:
                    type: string
                    example: 00-0b6c30033f5e9f51ce7ceed543b8b7cb-0b6c30033f5e9f51-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5ef51ce7c9
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5ef51ce7c9-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5ef51ce7c9
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5ef51ce7c9-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                post_type:
                  type: string
                  description: 'The <code>slug</code> of an existing record in the post_types table.'
                  example: consequatur
                  nullable: true
                status:
                  type: string
                  description: ''
                  example: scheduled
                  nullable: true
                  enum:
                    - all
                    - draft
                    - published
                    - scheduled
                    - trashed
                q:
                  type: string
                  description: 'Must not be greater than 500 characters.'
                  example: mqeopfuudtdsufvyvddqa
                  nullable: true
                author_id:
                  type: integer
                  description: 'The <code>id</code> of an existing record in the users table.'
                  example: 17
                  nullable: true
                term:
                  type: array
                  description: 'The <code>id</code> of an existing record in the terms table.'
                  example:
                    - 17
                  items:
                    type: integer
                date_from:
                  type: string
                  description: 'Must be a valid date.'
                  example: '2025-11-19T11:16:52'
                  nullable: true
                date_to:
                  type: string
                  description: 'Must be a valid date. Must be a date after or equal to <code>date_from</code>.'
                  example: '2106-12-18'
                  nullable: true
                date_field:
                  type: string
                  description: ''
                  example: updated
                  nullable: true
                  enum:
                    - updated
                    - published
                sort:
                  type: string
                  description: ''
                  example: title.asc
                  nullable: true
                  enum:
                    - updated_at.desc
                    - updated_at.asc
                    - published_at.desc
                    - published_at.asc
                    - title.asc
                    - title.desc
                per_page:
                  type: integer
                  description: 'Must be at least 10. Must not be greater than 100.'
                  example: 13
                  nullable: true
    post:
      summary: 'Создание записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 42
                    post_type: article
                    title: 'Headless CMS launch checklist'
                    slug: launch-checklist
                    status: published
                    is_published: true
                    published_at: '2025-02-10T08:00:00+00:00'
                    content_json:
                      hero:
                        title: Launch
                    meta_json:
                      title: Launch
                    template_override: templates.landing
                    author:
                      id: 1
                      name: Admin
                    terms: []
                    created_at: '2025-02-10T08:00:00+00:00'
                    updated_at: '2025-02-10T08:00:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 42
                      post_type:
                        type: string
                        example: article
                      title:
                        type: string
                        example: 'Headless CMS launch checklist'
                      slug:
                        type: string
                        example: launch-checklist
                      status:
                        type: string
                        example: published
                      is_published:
                        type: boolean
                        example: true
                      published_at:
                        type: string
                        example: '2025-02-10T08:00:00+00:00'
                      content_json:
                        type: object
                        properties:
                          hero:
                            type: object
                            properties:
                              title:
                                type: string
                                example: Launch
                      meta_json:
                        type: object
                        properties:
                          title:
                            type: string
                            example: Launch
                      template_override:
                        type: string
                        example: templates.landing
                      author:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          name:
                            type: string
                            example: Admin
                      terms:
                        type: array
                        example: []
                      created_at:
                        type: string
                        example: '2025-02-10T08:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-02-10T08:00:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: f3f5e9f5-1ce7-ceed-543b-8b7cb6c30033
                    reason: missing_token
                  trace_id: 00-f3f5e9f51ce7ceed543b8b7cb6c30033-f3f5e9f51ce7ceed-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: f3f5e9f5-1ce7-ceed-543b-8b7cb6c30033
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-f3f5e9f51ce7ceed543b8b7cb6c30033-f3f5e9f51ce7ceed-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The specified post type does not exist.'
                  meta:
                    request_id: 7ceed543-b8b7-cb6c-3003-3f5ef51ce7c9
                    errors:
                      post_type:
                        - 'The specified post type does not exist.'
                      slug:
                        - 'The slug format is invalid. Only lowercase letters, numbers, and hyphens are allowed.'
                  trace_id: 00-7ceed543b8b7cb6c30033f5ef51ce7c9-7ceed543b8b7cb6c-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The specified post type does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 7ceed543-b8b7-cb6c-3003-3f5ef51ce7c9
                      errors:
                        type: object
                        properties:
                          post_type:
                            type: array
                            example:
                              - 'The specified post type does not exist.'
                            items:
                              type: string
                          slug:
                            type: array
                            example:
                              - 'The slug format is invalid. Only lowercase letters, numbers, and hyphens are allowed.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-7ceed543b8b7cb6c30033f5ef51ce7c9-7ceed543b8b7cb6c-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5ef51ce7c9
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5ef51ce7c9-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5ef51ce7c9
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5ef51ce7c9-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                post_type:
                  type: string
                  description: 'Существующий slug PostType.'
                  example: article
                  nullable: false
                title:
                  type: string
                  description: 'Заголовок (<=500 символов).'
                  example: 'Headless CMS launch checklist'
                  nullable: false
                slug:
                  type: string
                  description: 'Уникальный slug (генерируется автоматически, если не указан).'
                  example: launch-checklist
                  nullable: true
                content_json:
                  type: object
                  description: 'Произвольные структурированные данные.'
                  example:
                    hero:
                      title: Launch
                  nullable: true
                  properties: {  }
                meta_json:
                  type: object
                  description: SEO-метаданные.
                  example:
                    title: Launch
                    description: Checklist
                  nullable: true
                  properties: {  }
                is_published:
                  type: boolean
                  description: 'Опубликовать сразу. Default: false.'
                  example: false
                  nullable: false
                published_at:
                  type: datetime
                  description: 'Дата публикации (ISO 8601).'
                  example: '2025-02-10T08:00:00Z'
                  nullable: true
                template_override:
                  type: string
                  description: 'Кастомный blade/template ключ.'
                  example: templates.landing
                  nullable: true
                term_ids:
                  type: array
                  description: 'Список ID термов для привязки.'
                  example:
                    - 3
                    - 8
                  items:
                    type: integer
              required:
                - post_type
                - title
  '/api/v1/admin/entries/{id}':
    get:
      summary: 'Получение записи по ID (включая удалённые).'
      operationId: ID
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 42
                    post_type: article
                    title: 'Headless CMS launch checklist'
                    slug: launch-checklist
                    status: published
                    is_published: true
                    published_at: '2025-02-10T08:00:00+00:00'
                    content_json: {  }
                    meta_json: {  }
                    template_override: null
                    author:
                      id: 7
                      name: 'Admin User'
                    terms:
                      -
                        id: 3
                        name: Guides
                        taxonomy: 1
                    created_at: '2025-02-09T10:15:00+00:00'
                    updated_at: '2025-02-10T08:05:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 42
                      post_type:
                        type: string
                        example: article
                      title:
                        type: string
                        example: 'Headless CMS launch checklist'
                      slug:
                        type: string
                        example: launch-checklist
                      status:
                        type: string
                        example: published
                      is_published:
                        type: boolean
                        example: true
                      published_at:
                        type: string
                        example: '2025-02-10T08:00:00+00:00'
                      content_json:
                        type: object
                        properties: {  }
                      meta_json:
                        type: object
                        properties: {  }
                      template_override:
                        type: string
                        example: null
                      author:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 7
                          name:
                            type: string
                            example: 'Admin User'
                      terms:
                        type: array
                        example:
                          -
                            id: 3
                            name: Guides
                            taxonomy: 1
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              example: 3
                            name:
                              type: string
                              example: Guides
                            taxonomy:
                              type: integer
                              example: 1
                      created_at:
                        type: string
                        example: '2025-02-09T10:15:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-02-10T08:05:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 1b8b7cb6-c300-33f3-f5e9-f51ce7ceed54
                    reason: missing_token
                  trace_id: 00-1b8b7cb6c30033f3f5e9f51ce7ceed54-1b8b7cb6c30033f3-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 1b8b7cb6-c300-33f3-f5e9-f51ce7ceed54
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-1b8b7cb6c30033f3f5e9f51ce7ceed54-1b8b7cb6c30033f3-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Entry not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Entry with ID 42 does not exist.'
                  meta:
                    request_id: f5e9f51c-e7ce-ed54-3b8b-7cb6c30033f3
                    entry_id: 42
                  trace_id: 00-f5e9f51ce7ceed543b8b7cb6c30033f3-f5e9f51ce7ceed54-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Entry not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Entry with ID 42 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: f5e9f51c-e7ce-ed54-3b8b-7cb6c30033f3
                      entry_id:
                        type: integer
                        example: 42
                  trace_id:
                    type: string
                    example: 00-f5e9f51ce7ceed543b8b7cb6c30033f3-f5e9f51ce7ceed54-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e9f51ce7c
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e9f51ce7c-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e9f51ce7c
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e9f51ce7c-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
    put:
      summary: 'Обновление записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 42
                    post_type: article
                    title: 'Updated checklist'
                    slug: launch-checklist
                    status: draft
                    is_published: false
                    published_at: null
                    content_json: {  }
                    meta_json: {  }
                    template_override: null
                    created_at: '2025-02-09T10:15:00+00:00'
                    updated_at: '2025-02-10T08:05:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 42
                      post_type:
                        type: string
                        example: article
                      title:
                        type: string
                        example: 'Updated checklist'
                      slug:
                        type: string
                        example: launch-checklist
                      status:
                        type: string
                        example: draft
                      is_published:
                        type: boolean
                        example: false
                      published_at:
                        type: string
                        example: null
                      content_json:
                        type: object
                        properties: {  }
                      meta_json:
                        type: object
                        properties: {  }
                      template_override:
                        type: string
                        example: null
                      created_at:
                        type: string
                        example: '2025-02-09T10:15:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-02-10T08:05:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: b7cb6c30-033f-3f5e-f51c-e7ceed543b8b
                    reason: missing_token
                  trace_id: 00-b7cb6c30033f3f5ef51ce7ceed543b8b-b7cb6c30033f3f5e-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: b7cb6c30-033f-3f5e-f51c-e7ceed543b8b
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-b7cb6c30033f3f5ef51ce7ceed543b8b-b7cb6c30033f3f5e-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Entry not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Entry with ID 42 does not exist.'
                  meta:
                    request_id: 33f3f5e9-f51c-e7ce-ed54-3b8b7cb6c300
                    entry_id: 42
                  trace_id: 00-33f3f5e9f51ce7ceed543b8b7cb6c300-33f3f5e9f51ce7ce-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Entry not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Entry with ID 42 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 33f3f5e9-f51c-e7ce-ed54-3b8b7cb6c300
                      entry_id:
                        type: integer
                        example: 42
                  trace_id:
                    type: string
                    example: 00-33f3f5e9f51ce7ceed543b8b7cb6c300-33f3f5e9f51ce7ce-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The slug format is invalid. Only lowercase letters, numbers, and hyphens are allowed.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5eb7cb6c30
                    errors:
                      slug:
                        - 'The slug format is invalid. Only lowercase letters, numbers, and hyphens are allowed.'
                  trace_id: 00-eed543b8b7cb6c30033f3f5eb7cb6c30-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The slug format is invalid. Only lowercase letters, numbers, and hyphens are allowed.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5eb7cb6c30
                      errors:
                        type: object
                        properties:
                          slug:
                            type: array
                            example:
                              - 'The slug format is invalid. Only lowercase letters, numbers, and hyphens are allowed.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5eb7cb6c30-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5eb8b7cb6c
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5eb8b7cb6c-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5eb8b7cb6c
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5eb8b7cb6c-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: 'Заголовок (<=500 символов).'
                  example: 'Updated checklist'
                  nullable: false
                slug:
                  type: string
                  description: 'Уникальный slug (обязателен при публикации).'
                  example: launch-checklist
                  nullable: false
                content_json:
                  type: object
                  description: 'Произвольные данные.'
                  example:
                    body:
                      blocks: []
                  nullable: false
                  properties: {  }
                meta_json:
                  type: object
                  description: SEO-метаданные.
                  example:
                    description: Updated
                  nullable: false
                  properties: {  }
                is_published:
                  type: boolean
                  description: 'Переключение статуса публикации.'
                  example: false
                  nullable: false
                published_at:
                  type: datetime
                  description: 'Дата публикации (ISO 8601).'
                  example: consequatur
                  nullable: false
                template_override:
                  type: string
                  description: 'Кастомный шаблон.'
                  example: templates.landing
                  nullable: false
                term_ids:
                  type: array
                  description: 'Полный список термов (sync).'
                  example:
                    - 17
                  items:
                    type: integer
    delete:
      summary: 'Мягкое удаление записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: c30033f3-f5e9-f51c-e7ce-ed543b8b7cb6
                    reason: missing_token
                  trace_id: 00-c30033f3f5e9f51ce7ceed543b8b7cb6-c30033f3f5e9f51c-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: c30033f3-f5e9-f51c-e7ce-ed543b8b7cb6
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-c30033f3f5e9f51ce7ceed543b8b7cb6-c30033f3f5e9f51c-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Entry not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Entry with ID 42 does not exist.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5ec30033f3
                    entry_id: 42
                  trace_id: 00-eed543b8b7cb6c30033f3f5ec30033f3-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Entry not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Entry with ID 42 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5ec30033f3
                      entry_id:
                        type: integer
                        example: 42
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5ec30033f3-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5ec30033ff
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5ec30033ff-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5ec30033ff
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5ec30033ff-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
    parameters:
      -
        in: path
        name: id
        description: 'ID записи.'
        example: 42
        required: true
        schema:
          type: integer
  '/api/v1/admin/entries/{id}/restore':
    post:
      summary: 'Восстановление мягко удалённой записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 42
                    status: draft
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 42
                      status:
                        type: string
                        example: draft
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 9f51ce7c-eed5-43b8-b7cb-6c30033f3f5e
                    reason: missing_token
                  trace_id: 00-9f51ce7ceed543b8b7cb6c30033f3f5e-9f51ce7ceed543b8-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 9f51ce7c-eed5-43b8-b7cb-6c30033f3f5e
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-9f51ce7ceed543b8b7cb6c30033f3f5e-9f51ce7ceed543b8-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Entry not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Trashed entry with ID 42 does not exist.'
                  meta:
                    request_id: 7cb6c300-33f3-4b8b-9f51-ceed543b8b7c
                    entry_id: 42
                    trashed: true
                  trace_id: 00-7cb6c30033f34b8b9f51ceed543b8b7c-7cb6c30033f34b8b-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Entry not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Trashed entry with ID 42 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 7cb6c300-33f3-4b8b-9f51-ceed543b8b7c
                      entry_id:
                        type: integer
                        example: 42
                      trashed:
                        type: boolean
                        example: true
                  trace_id:
                    type: string
                    example: 00-7cb6c30033f34b8b9f51ceed543b8b7c-7cb6c30033f34b8b-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e9f51ce7c
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e9f51ce7c-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e9f51ce7c
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e9f51ce7c-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Entries'
    parameters:
      -
        in: path
        name: id
        description: 'ID записи.'
        example: 42
        required: true
        schema:
          type: integer
  '/api/v1/admin/entries/{entry_id}/terms':
    get:
      summary: 'Получение термов записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    entry_id: 42
                    terms_by_taxonomy:
                      -
                        taxonomy:
                          id: 1
                          label: Categories
                          hierarchical: true
                          options_json: {  }
                          created_at: '2025-01-10T12:00:00+00:00'
                          updated_at: '2025-01-10T12:00:00+00:00'
                        terms:
                          -
                            id: 3
                            name: Guides
                            meta_json: {  }
                            created_at: '2025-01-10T12:00:00+00:00'
                            updated_at: '2025-01-10T12:00:00+00:00'
                            deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      entry_id:
                        type: integer
                        example: 42
                      terms_by_taxonomy:
                        type: array
                        example:
                          -
                            taxonomy:
                              id: 1
                              label: Categories
                              hierarchical: true
                              options_json: []
                              created_at: '2025-01-10T12:00:00+00:00'
                              updated_at: '2025-01-10T12:00:00+00:00'
                            terms:
                              -
                                id: 3
                                name: Guides
                                meta_json: []
                                created_at: '2025-01-10T12:00:00+00:00'
                                updated_at: '2025-01-10T12:00:00+00:00'
                                deleted_at: null
                        items:
                          type: object
                          properties:
                            taxonomy:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  example: 1
                                label:
                                  type: string
                                  example: Categories
                                hierarchical:
                                  type: boolean
                                  example: true
                                options_json:
                                  type: object
                                  properties: {  }
                                created_at:
                                  type: string
                                  example: '2025-01-10T12:00:00+00:00'
                                updated_at:
                                  type: string
                                  example: '2025-01-10T12:00:00+00:00'
                            terms:
                              type: array
                              example:
                                -
                                  id: 3
                                  name: Guides
                                  meta_json: []
                                  created_at: '2025-01-10T12:00:00+00:00'
                                  updated_at: '2025-01-10T12:00:00+00:00'
                                  deleted_at: null
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                    example: 3
                                  name:
                                    type: string
                                    example: Guides
                                  meta_json:
                                    type: object
                                    properties: {  }
                                  created_at:
                                    type: string
                                    example: '2025-01-10T12:00:00+00:00'
                                  updated_at:
                                    type: string
                                    example: '2025-01-10T12:00:00+00:00'
                                  deleted_at:
                                    type: string
                                    example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555557
                    reason: missing_token
                  trace_id: 00-51111111222233334444555555555557-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555557
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555557-5111111122223333-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Entry not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Entry with ID 42 does not exist.'
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555558
                    entry_id: 42
                  trace_id: 00-51111111222233334444555555555558-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Entry not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Entry with ID 42 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555558
                      entry_id:
                        type: integer
                        example: 42
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555558-5111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: "Taxonomy with id '2' is not allowed for the entry post type."
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555559
                    errors:
                      term_ids:
                        - "Taxonomy with id '2' is not allowed for the entry post type."
                  trace_id: 00-51111111222233334444555555555559-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: "Taxonomy with id '2' is not allowed for the entry post type."
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555559
                      errors:
                        type: object
                        properties:
                          term_ids:
                            type: array
                            example:
                              - "Taxonomy with id '2' is not allowed for the entry post type."
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555559-5111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 56666666-7777-8888-9999-000000000001
                    retry_after: 60
                  trace_id: 00-56666666777788889999000000000001-5666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 56666666-7777-8888-9999-000000000001
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-56666666777788889999000000000001-5666666677778888-01
      tags:
        - 'Admin ▸ Entry terms'
    parameters:
      -
        in: path
        name: entry_id
        description: 'The ID of the entry.'
        example: 1
        required: true
        schema:
          type: integer
      -
        in: path
        name: entry
        description: 'ID записи.'
        example: 42
        required: true
        schema:
          type: integer
  '/api/v1/admin/entries/{entry}/terms/sync':
    put:
      summary: 'Полная синхронизация термов записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    entry_id: 42
                    terms_by_taxonomy:
                      -
                        taxonomy:
                          id: 1
                          label: Categories
                          hierarchical: true
                          options_json: {  }
                          created_at: '2025-01-10T12:00:00+00:00'
                          updated_at: '2025-01-10T12:00:00+00:00'
                        terms:
                          -
                            id: 8
                            name: Announcements
                            meta_json: {  }
                            created_at: '2025-01-10T12:00:00+00:00'
                            updated_at: '2025-01-10T12:00:00+00:00'
                            deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      entry_id:
                        type: integer
                        example: 42
                      terms_by_taxonomy:
                        type: array
                        example:
                          -
                            taxonomy:
                              id: 1
                              label: Categories
                              hierarchical: true
                              options_json: []
                              created_at: '2025-01-10T12:00:00+00:00'
                              updated_at: '2025-01-10T12:00:00+00:00'
                            terms:
                              -
                                id: 8
                                name: Announcements
                                meta_json: []
                                created_at: '2025-01-10T12:00:00+00:00'
                                updated_at: '2025-01-10T12:00:00+00:00'
                                deleted_at: null
                        items:
                          type: object
                          properties:
                            taxonomy:
                              type: object
                              properties:
                                id:
                                  type: integer
                                  example: 1
                                label:
                                  type: string
                                  example: Categories
                                hierarchical:
                                  type: boolean
                                  example: true
                                options_json:
                                  type: object
                                  properties: {  }
                                created_at:
                                  type: string
                                  example: '2025-01-10T12:00:00+00:00'
                                updated_at:
                                  type: string
                                  example: '2025-01-10T12:00:00+00:00'
                            terms:
                              type: array
                              example:
                                -
                                  id: 8
                                  name: Announcements
                                  meta_json: []
                                  created_at: '2025-01-10T12:00:00+00:00'
                                  updated_at: '2025-01-10T12:00:00+00:00'
                                  deleted_at: null
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                    example: 8
                                  name:
                                    type: string
                                    example: Announcements
                                  meta_json:
                                    type: object
                                    properties: {  }
                                  created_at:
                                    type: string
                                    example: '2025-01-10T12:00:00+00:00'
                                  updated_at:
                                    type: string
                                    example: '2025-01-10T12:00:00+00:00'
                                  deleted_at:
                                    type: string
                                    example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555563
                    reason: missing_token
                  trace_id: 00-51111111222233334444555555555663-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555563
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555663-5111111122223333-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Entry not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Entry with ID 42 does not exist.'
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555564
                    entry_id: 42
                  trace_id: 00-51111111222233334444555555555664-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Entry not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Entry with ID 42 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555564
                      entry_id:
                        type: integer
                        example: 42
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555664-5111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: "Taxonomy with id '2' is not allowed for the entry post type."
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555565
                    errors:
                      term_ids:
                        - "Taxonomy with id '2' is not allowed for the entry post type."
                  trace_id: 00-51111111222233334444555555555665-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: "Taxonomy with id '2' is not allowed for the entry post type."
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555565
                      errors:
                        type: object
                        properties:
                          term_ids:
                            type: array
                            example:
                              - "Taxonomy with id '2' is not allowed for the entry post type."
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555665-5111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 56666666-7777-8888-9999-000000000003
                    retry_after: 60
                  trace_id: 00-56666666777788889999000000000003-5666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 56666666-7777-8888-9999-000000000003
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-56666666777788889999000000000003-5666666677778888-01
      tags:
        - 'Admin ▸ Entry terms'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                term_ids:
                  type: array
                  description: 'Список ID термов (может быть пустым для очистки).'
                  example:
                    - 3
                    - 8
                  items:
                    type: integer
              required:
                - term_ids
    parameters:
      -
        in: path
        name: entry
        description: 'ID записи.'
        example: 42
        required: true
        schema:
          type: integer
  /api/v1/admin/media:
    get:
      summary: 'Список медиафайлов с фильтрами.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: q
          description: 'Поиск по названию и исходному имени (<=255).'
          example: hero
          required: false
          schema:
            type: string
            description: 'Поиск по названию и исходному имени (<=255).'
            example: hero
            nullable: false
        -
          in: query
          name: kind
          description: 'Фильтр по типу. Values: image,video,audio,document.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Фильтр по типу. Values: image,video,audio,document.'
            example: consequatur
            nullable: false
        -
          in: query
          name: mime
          description: 'Фильтр по MIME (prefix match).'
          example: image/png
          required: false
          schema:
            type: string
            description: 'Фильтр по MIME (prefix match).'
            example: image/png
            nullable: false
        -
          in: query
          name: deleted
          description: 'Управление soft-deleted. Values: with,only.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Управление soft-deleted. Values: with,only.'
            example: consequatur
            nullable: false
        -
          in: query
          name: sort
          description: 'Поле сортировки. Values: created_at,size_bytes,mime. Default: created_at.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Поле сортировки. Values: created_at,size_bytes,mime. Default: created_at.'
            example: consequatur
            nullable: false
        -
          in: query
          name: order
          description: 'Направление сортировки. Values: asc,desc. Default: desc.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Направление сортировки. Values: asc,desc. Default: desc.'
            example: consequatur
            nullable: false
        -
          in: query
          name: per_page
          description: 'Размер страницы (1-100). Default: 15.'
          example: 17
          required: false
          schema:
            type: integer
            description: 'Размер страницы (1-100). Default: 15.'
            example: 17
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 01HXZYXQJ123456789ABCDEF
                      kind: image
                      name: hero.jpg
                      ext: jpg
                      mime: image/jpeg
                      size_bytes: 235678
                      width: 1920
                      height: 1080
                      title: 'Hero image'
                      alt: 'Hero cover'
                      created_at: '2025-01-10T12:00:00+00:00'
                      updated_at: '2025-01-10T12:00:00+00:00'
                      deleted_at: null
                      preview_urls:
                        thumbnail: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=thumbnail'
                        medium: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=medium'
                        large: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=large'
                      url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF'
                    -
                      id: 01HXZYXQJ987654321FEDCBA
                      kind: video
                      name: video.mp4
                      ext: mp4
                      mime: video/mp4
                      size_bytes: 5242880
                      duration_ms: 120000
                      bitrate_kbps: 3500
                      frame_rate: 30
                      frame_count: 3600
                      video_codec: h264
                      audio_codec: aac
                      title: 'Video title'
                      alt: null
                      created_at: '2025-01-10T12:01:00+00:00'
                      updated_at: '2025-01-10T12:01:00+00:00'
                      deleted_at: null
                      url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ987654321FEDCBA'
                    -
                      id: 01HXZYXQJABCDEF1234567890
                      kind: audio
                      name: audio.mp3
                      ext: mp3
                      mime: audio/mpeg
                      size_bytes: 3145728
                      duration_ms: 180000
                      bitrate_kbps: 256
                      audio_codec: mp3
                      title: 'Audio title'
                      alt: null
                      created_at: '2025-01-10T12:02:00+00:00'
                      updated_at: '2025-01-10T12:02:00+00:00'
                      deleted_at: null
                      url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJABCDEF1234567890'
                    -
                      id: 01HXZYXQJFEDCBA9876543210
                      kind: document
                      name: document.pdf
                      ext: pdf
                      mime: application/pdf
                      size_bytes: 102400
                      title: 'Document title'
                      alt: null
                      created_at: '2025-01-10T12:03:00+00:00'
                      updated_at: '2025-01-10T12:03:00+00:00'
                      deleted_at: null
                      url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJFEDCBA9876543210'
                  links:
                    first: …
                    last: …
                    prev: null
                    next: null
                  meta:
                    current_page: 1
                    last_page: 1
                    per_page: 15
                    total: 4
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 01HXZYXQJ123456789ABCDEF
                        kind: image
                        name: hero.jpg
                        ext: jpg
                        mime: image/jpeg
                        size_bytes: 235678
                        width: 1920
                        height: 1080
                        title: 'Hero image'
                        alt: 'Hero cover'
                        created_at: '2025-01-10T12:00:00+00:00'
                        updated_at: '2025-01-10T12:00:00+00:00'
                        deleted_at: null
                        preview_urls:
                          thumbnail: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=thumbnail'
                          medium: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=medium'
                          large: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=large'
                        url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF'
                      -
                        id: 01HXZYXQJ987654321FEDCBA
                        kind: video
                        name: video.mp4
                        ext: mp4
                        mime: video/mp4
                        size_bytes: 5242880
                        duration_ms: 120000
                        bitrate_kbps: 3500
                        frame_rate: 30
                        frame_count: 3600
                        video_codec: h264
                        audio_codec: aac
                        title: 'Video title'
                        alt: null
                        created_at: '2025-01-10T12:01:00+00:00'
                        updated_at: '2025-01-10T12:01:00+00:00'
                        deleted_at: null
                        url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ987654321FEDCBA'
                      -
                        id: 01HXZYXQJABCDEF1234567890
                        kind: audio
                        name: audio.mp3
                        ext: mp3
                        mime: audio/mpeg
                        size_bytes: 3145728
                        duration_ms: 180000
                        bitrate_kbps: 256
                        audio_codec: mp3
                        title: 'Audio title'
                        alt: null
                        created_at: '2025-01-10T12:02:00+00:00'
                        updated_at: '2025-01-10T12:02:00+00:00'
                        deleted_at: null
                        url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJABCDEF1234567890'
                      -
                        id: 01HXZYXQJFEDCBA9876543210
                        kind: document
                        name: document.pdf
                        ext: pdf
                        mime: application/pdf
                        size_bytes: 102400
                        title: 'Document title'
                        alt: null
                        created_at: '2025-01-10T12:03:00+00:00'
                        updated_at: '2025-01-10T12:03:00+00:00'
                        deleted_at: null
                        url: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJFEDCBA9876543210'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 01HXZYXQJ123456789ABCDEF
                        kind:
                          type: string
                          example: image
                        name:
                          type: string
                          example: hero.jpg
                        ext:
                          type: string
                          example: jpg
                        mime:
                          type: string
                          example: image/jpeg
                        size_bytes:
                          type: integer
                          example: 235678
                        width:
                          type: integer
                          example: 1920
                        height:
                          type: integer
                          example: 1080
                        title:
                          type: string
                          example: 'Hero image'
                        alt:
                          type: string
                          example: 'Hero cover'
                        created_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        deleted_at:
                          type: string
                          example: null
                        preview_urls:
                          type: object
                          properties:
                            thumbnail:
                              type: string
                              example: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=thumbnail'
                            medium:
                              type: string
                              example: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=medium'
                            large:
                              type: string
                              example: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF?variant=large'
                        url:
                          type: string
                          example: 'https://api.stupidcms.dev/api/v1/media/01HXZYXQJ123456789ABCDEF'
                  links:
                    type: object
                    properties:
                      first:
                        type: string
                        example: …
                      last:
                        type: string
                        example: …
                      prev:
                        type: string
                        example: null
                      next:
                        type: string
                        example: null
                  meta:
                    type: object
                    properties:
                      current_page:
                        type: integer
                        example: 1
                      last_page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 15
                      total:
                        type: integer
                        example: 4
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 11111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-11111111222233334444555555555555-1111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 11111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-11111111222233334444555555555555-1111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 66666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-66666666777788889999000000000000-6666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 66666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-66666666777788889999000000000000-6666666677778888-01
      tags:
        - 'Admin ▸ Media'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                q:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: true
                kind:
                  type: string
                  description: ''
                  example: document
                  nullable: true
                  enum:
                    - image
                    - video
                    - audio
                    - document
                mime:
                  type: string
                  description: 'Must not be greater than 120 characters.'
                  example: amniihfqcoynlazghdtqt
                  nullable: true
                deleted:
                  type: string
                  description: ''
                  example: only
                  nullable: true
                  enum:
                    - with
                    - only
                sort:
                  type: string
                  description: ''
                  example: size_bytes
                  nullable: true
                  enum:
                    - created_at
                    - size_bytes
                    - mime
                order:
                  type: string
                  description: ''
                  example: asc
                  nullable: true
                  enum:
                    - asc
                    - desc
                page:
                  type: integer
                  description: 'Must be at least 1.'
                  example: 56
                  nullable: true
                per_page:
                  type: integer
                  description: 'Must be at least 1. Must not be greater than 100.'
                  example: 23
                  nullable: true
    post:
      summary: 'Загрузка нового медиа-файла.'
      operationId: ''
      description: "Сохраняет файл на диск, извлекает метаданные и создает запись Media в БД.\nВозвращает специализированный ресурс в зависимости от типа медиа:\n- MediaImageResource для изображений (с width, height, preview_urls)\n- MediaVideoResource для видео (с duration_ms, bitrate_kbps, frame_rate и т.д.)\n- MediaAudioResource для аудио (с duration_ms, bitrate_kbps, audio_codec)\n- MediaDocumentResource для документов (только базовые поля)\n\nПри дедупликации (файл с таким же checksum уже существует) возвращает 200,\nпри создании новой записи - 201."
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: 'Must be a file. Must not be greater than 1048576 kilobytes.'
                  nullable: false
                title:
                  type: string
                  description: 'Must be at least 1 character. Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: true
                alt:
                  type: string
                  description: 'Must be at least 1 character. Must not be greater than 255 characters.'
                  example: amniihfqcoynlazghdtqt
                  nullable: true
              required:
                - file
      security: []
  /api/v1/admin/media/bulk:
    delete:
      summary: 'Массовое мягкое удаление медиа-файлов.'
      operationId: ''
      description: "Выполняет мягкое удаление медиа-файлов по массиву идентификаторов\nи отправляет событие MediaDeleted для каждого удалённого файла."
      parameters: []
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 11111111-2222-3333-4444-555555555562
                    reason: missing_token
                  trace_id: 00-11111111222233334444555555555662-1111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 11111111-2222-3333-4444-555555555562
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-11111111222233334444555555555662-1111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The media payload failed validation constraints.'
                  meta:
                    request_id: 11111111-2222-3333-4444-555555555563
                    errors:
                      ids:
                        - 'The ids field is required.'
                  trace_id: 00-11111111222233334444555555555663-1111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The media payload failed validation constraints.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 11111111-2222-3333-4444-555555555563
                      errors:
                        type: object
                        properties:
                          ids:
                            type: array
                            example:
                              - 'The ids field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-11111111222233334444555555555663-1111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 66666666-7777-8888-9999-000000000004
                    retry_after: 60
                  trace_id: 00-66666666777788889999000000000004-6666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 66666666-7777-8888-9999-000000000004
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-66666666777788889999000000000004-6666666677778888-01
      tags:
        - 'Admin ▸ Media'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  type: array
                  description: 'Массив идентификаторов медиа-файлов (1-100 элементов).'
                  example:
                    - 01HXZYXQJ123456789ABCDEF
                    - 01HXZYXQJ987654321FEDCBA
                  items:
                    type: string
              required:
                - ids
    post:
      summary: 'Массовая загрузка медиа-файлов.'
      operationId: ''
      description: "Обрабатывает массив файлов и создаёт записи Media для каждого файла.\nВозвращает коллекцию с специализированными ресурсами для каждого типа медиа.\nОпциональные метаданные (title, alt) применяются ко всем файлам."
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: array
                  description: 'Must be a file. Must not be greater than 1048576 kilobytes.'
                  items:
                    type: string
                    format: binary
                title:
                  type: string
                  description: 'Must be at least 1 character. Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: true
                alt:
                  type: string
                  description: 'Must be at least 1 character. Must not be greater than 255 characters.'
                  example: amniihfqcoynlazghdtqt
                  nullable: true
              required:
                - files
      security: []
  /api/v1/admin/media/bulk/force:
    delete:
      summary: 'Массовое окончательное удаление медиа-файлов.'
      operationId: ''
      description: "Выполняет полное удаление медиа-файлов по массиву идентификаторов:\nудаляет физические файлы (основной файл и все варианты) с диска,\nзатем удаляет записи из БД. Операция необратима."
      parameters: []
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 11111111-2222-3333-4444-555555555567
                    reason: missing_token
                  trace_id: 00-11111111222233334444555555555667-1111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 11111111-2222-3333-4444-555555555567
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-11111111222233334444555555555667-1111111122223333-01
        403:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/forbidden'
                  title: Forbidden
                  status: 403
                  code: FORBIDDEN
                  detail: 'You do not have permission to force delete media.'
                  meta:
                    request_id: 11111111-2222-3333-4444-555555555568
                  trace_id: 00-11111111222233334444555555555668-1111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/forbidden'
                  title:
                    type: string
                    example: Forbidden
                  status:
                    type: integer
                    example: 403
                  code:
                    type: string
                    example: FORBIDDEN
                  detail:
                    type: string
                    example: 'You do not have permission to force delete media.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 11111111-2222-3333-4444-555555555568
                  trace_id:
                    type: string
                    example: 00-11111111222233334444555555555668-1111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The media payload failed validation constraints.'
                  meta:
                    request_id: 11111111-2222-3333-4444-555555555569
                    errors:
                      ids:
                        - 'The ids field is required.'
                  trace_id: 00-11111111222233334444555555555669-1111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The media payload failed validation constraints.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 11111111-2222-3333-4444-555555555569
                      errors:
                        type: object
                        properties:
                          ids:
                            type: array
                            example:
                              - 'The ids field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-11111111222233334444555555555669-1111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 66666666-7777-8888-9999-000000000006
                    retry_after: 60
                  trace_id: 00-66666666777788889999000000000006-6666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 66666666-7777-8888-9999-000000000006
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-66666666777788889999000000000006-6666666677778888-01
      tags:
        - 'Admin ▸ Media'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  type: array
                  description: 'Массив идентификаторов медиа-файлов (1-100 элементов).'
                  example:
                    - 01HXZYXQJ123456789ABCDEF
                    - 01HXZYXQJ987654321FEDCBA
                  items:
                    type: string
              required:
                - ids
  '/api/v1/admin/options/{namespace}':
    get:
      summary: 'Список опций по namespace.'
      operationId: Namespace
      description: ''
      parameters:
        -
          in: query
          name: q
          description: 'Поиск по ключу/описанию (<=255).'
          example: hero
          required: false
          schema:
            type: string
            description: 'Поиск по ключу/описанию (<=255).'
            example: hero
            nullable: false
        -
          in: query
          name: deleted
          description: 'Управление soft-deleted. Values: with,only.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Управление soft-deleted. Values: with,only.'
            example: consequatur
            nullable: false
        -
          in: query
          name: per_page
          description: 'Размер страницы (1-100). Default: 20.'
          example: 17
          required: false
          schema:
            type: integer
            description: 'Размер страницы (1-100). Default: 20.'
            example: 17
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 10
                      namespace: site
                      key: hero.title
                      value: 'Launch the future'
                      description: 'Hero headline'
                      created_at: '2025-01-10T12:00:00+00:00'
                      updated_at: '2025-01-10T12:00:00+00:00'
                      deleted_at: null
                  links:
                    first: …
                    last: …
                    prev: null
                    next: null
                  meta:
                    current_page: 1
                    last_page: 1
                    per_page: 20
                    total: 1
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 10
                        namespace: site
                        key: hero.title
                        value: 'Launch the future'
                        description: 'Hero headline'
                        created_at: '2025-01-10T12:00:00+00:00'
                        updated_at: '2025-01-10T12:00:00+00:00'
                        deleted_at: null
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 10
                        namespace:
                          type: string
                          example: site
                        key:
                          type: string
                          example: hero.title
                        value:
                          type: string
                          example: 'Launch the future'
                        description:
                          type: string
                          example: 'Hero headline'
                        created_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        deleted_at:
                          type: string
                          example: null
                  links:
                    type: object
                    properties:
                      first:
                        type: string
                        example: …
                      last:
                        type: string
                        example: …
                      prev:
                        type: string
                        example: null
                      next:
                        type: string
                        example: null
                  meta:
                    type: object
                    properties:
                      current_page:
                        type: integer
                        example: 1
                      last_page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 20
                      total:
                        type: integer
                        example: 1
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a01
                    reason: missing_token
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a01-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a01
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a01-eed543b8b7cb6c30-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/invalid-option-identifier'
                  title: 'Validation Error'
                  status: 422
                  code: INVALID_OPTION_IDENTIFIER
                  detail: 'The provided option namespace/key is invalid.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a02
                    errors:
                      namespace:
                        - 'The namespace format is invalid.'
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a02-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/invalid-option-identifier'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: INVALID_OPTION_IDENTIFIER
                  detail:
                    type: string
                    example: 'The provided option namespace/key is invalid.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a02
                      errors:
                        type: object
                        properties:
                          namespace:
                            type: array
                            example:
                              - 'The namespace format is invalid.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a02-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a03
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a03-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a03
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a03-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Options'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namespace:
                  type: string
                  description: 'Must match the regex /^[a-z0-9_][a-z0-9_.-]{1,63}$/.'
                  example: gvxi44f2f25h5.6eezattmmlhydv_tra-jle3y2y8
                  nullable: false
                q:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: bajwbpilpmufinllwloau
                  nullable: true
                deleted:
                  type: string
                  description: ''
                  example: only
                  nullable: true
                  enum:
                    - with
                    - only
                page:
                  type: integer
                  description: 'Must be at least 1.'
                  example: 87
                  nullable: true
                per_page:
                  type: integer
                  description: 'Must be at least 1. Must not be greater than 100.'
                  example: 4
                  nullable: true
              required:
                - namespace
    parameters:
      -
        in: path
        name: namespace
        description: 'Пространство опций (a-z0-9_.-).'
        example: site
        required: true
        schema:
          type: string
  '/api/v1/admin/options/{namespace}/{key}':
    get:
      summary: 'Получение значения опции.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 10
                    namespace: site
                    key: hero.title
                    value: 'Launch the future'
                    description: 'Hero headline'
                    created_at: '2025-01-10T12:00:00+00:00'
                    updated_at: '2025-01-10T12:00:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 10
                      namespace:
                        type: string
                        example: site
                      key:
                        type: string
                        example: hero.title
                      value:
                        type: string
                        example: 'Launch the future'
                      description:
                        type: string
                        example: 'Hero headline'
                      created_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a04
                    reason: missing_token
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a04-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a04
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a04-eed543b8b7cb6c30-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Option not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Option "site/hero.title" was not found.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a05
                    namespace: site
                    key: hero.title
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a05-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Option not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Option "site/hero.title" was not found.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a05
                      namespace:
                        type: string
                        example: site
                      key:
                        type: string
                        example: hero.title
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a05-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a06
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a06-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a06
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a06-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Options'
    put:
      summary: 'Создание/обновление опции.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 10
                    namespace: site
                    key: hero.title
                    value:
                      title: Launch
                    description: 'Hero headline'
                    created_at: '2025-01-10T12:00:00+00:00'
                    updated_at: '2025-01-10T12:00:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 10
                      namespace:
                        type: string
                        example: site
                      key:
                        type: string
                        example: hero.title
                      value:
                        type: object
                        properties:
                          title:
                            type: string
                            example: Launch
                      description:
                        type: string
                        example: 'Hero headline'
                      created_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a07
                    reason: missing_token
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a07-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a07
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a07-eed543b8b7cb6c30-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/invalid-option-payload'
                  title: 'Validation Error'
                  status: 422
                  code: INVALID_OPTION_PAYLOAD
                  detail: 'Invalid option payload.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a08
                    errors:
                      value:
                        - 'The value must be valid JSON.'
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a08-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/invalid-option-payload'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: INVALID_OPTION_PAYLOAD
                  detail:
                    type: string
                    example: 'Invalid option payload.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a08
                      errors:
                        type: object
                        properties:
                          value:
                            type: array
                            example:
                              - 'The value must be valid JSON.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a08-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a09
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a09-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a09
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a09-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Options'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namespace:
                  type: string
                  description: 'Must match the regex /^[a-z0-9_][a-z0-9_.-]{1,63}$/.'
                  example: gvxi44f2f25h5.6eezattmmlhydv_tra-jle3y2y8
                  nullable: false
                key:
                  type: string
                  description: 'Must match the regex /^[a-z0-9_][a-z0-9_.-]{1,63}$/.'
                  example: gvxi44f2f25h5.6eezattmmlhydv_tra-jle3y2y8
                  nullable: false
                value:
                  type: mixed
                  description: 'JSON-значение (до 64KB).'
                  example: '{"title":"Launch"}'
                  nullable: false
                description:
                  type: string
                  description: 'Описание (<=255).'
                  example: 'Hero headline'
                  nullable: true
              required:
                - namespace
                - key
                - value
    delete:
      summary: 'Удаление опции (soft delete).'
      operationId: softDelete
      description: ''
      parameters: []
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0a
                    reason: missing_token
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a0a-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0a
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a0a-eed543b8b7cb6c30-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Option not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Option "site/hero.title" was not found.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0b
                    namespace: site
                    key: hero.title
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a0b-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Option not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Option "site/hero.title" was not found.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0b
                      namespace:
                        type: string
                        example: site
                      key:
                        type: string
                        example: hero.title
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a0b-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0c
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a0c-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0c
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a0c-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Options'
    parameters:
      -
        in: path
        name: namespace
        description: 'Пространство опций.'
        example: site
        required: true
        schema:
          type: string
      -
        in: path
        name: key
        description: 'Ключ опции.'
        example: hero.title
        required: true
        schema:
          type: string
  '/api/v1/admin/options/{namespace}/{key}/restore':
    post:
      summary: 'Восстановление удалённой опции.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 10
                    namespace: site
                    key: hero.title
                    value: 'Launch the future'
                    description: 'Hero headline'
                    created_at: '2025-01-10T12:00:00+00:00'
                    updated_at: '2025-01-10T12:00:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 10
                      namespace:
                        type: string
                        example: site
                      key:
                        type: string
                        example: hero.title
                      value:
                        type: string
                        example: 'Launch the future'
                      description:
                        type: string
                        example: 'Hero headline'
                      created_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0d
                    reason: missing_token
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a0d-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0d
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a0d-eed543b8b7cb6c30-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Option not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Option "site/hero.title" was not found.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0e
                    namespace: site
                    key: hero.title
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a0e-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Option not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Option "site/hero.title" was not found.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0e
                      namespace:
                        type: string
                        example: site
                      key:
                        type: string
                        example: hero.title
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a0e-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0f
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e0a0a0a0f-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e0a0a0a0f
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e0a0a0a0f-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Options'
    parameters:
      -
        in: path
        name: namespace
        description: Пространство.
        example: site
        required: true
        schema:
          type: string
      -
        in: path
        name: key
        description: Ключ.
        example: hero.title
        required: true
        schema:
          type: string
  /api/v1/admin/reservations:
    get:
      summary: 'Список зарезервированных путей.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      path: /promo
                      kind: exact
                      source: marketing
                      created_at: '2025-01-10T12:00:00+00:00'
                properties:
                  data:
                    type: array
                    example:
                      -
                        path: /promo
                        kind: exact
                        source: marketing
                        created_at: '2025-01-10T12:00:00+00:00'
                    items:
                      type: object
                      properties:
                        path:
                          type: string
                          example: /promo
                        kind:
                          type: string
                          example: exact
                        source:
                          type: string
                          example: marketing
                        created_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555561
                    reason: missing_token
                  trace_id: 00-31111111222233334444555555555661-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555561
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555661-3111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 36666666-7777-8888-9999-000000000002
                    retry_after: 60
                  trace_id: 00-36666666777788889999000000000002-3666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 36666666-7777-8888-9999-000000000002
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-36666666777788889999000000000002-3666666677778888-01
      tags:
        - 'Admin ▸ Path reservations'
    post:
      summary: 'Создание резервирования пути.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Path reserved successfully'
                properties:
                  message:
                    type: string
                    example: 'Path reserved successfully'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-31111111222233334444555555555555-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555555-3111111122223333-01
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/conflict'
                  title: 'Path already reserved'
                  status: 409
                  code: CONFLICT
                  detail: 'Path already reserved.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555556
                    path: /promo
                    owner: marketing
                  trace_id: 00-31111111222233334444555555555556-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/conflict'
                  title:
                    type: string
                    example: 'Path already reserved'
                  status:
                    type: integer
                    example: 409
                  code:
                    type: string
                    example: CONFLICT
                  detail:
                    type: string
                    example: 'Path already reserved.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555556
                      path:
                        type: string
                        example: /promo
                      owner:
                        type: string
                        example: marketing
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555556-3111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The path field is required.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555557
                    errors:
                      path:
                        - 'The path field is required.'
                  trace_id: 00-31111111222233334444555555555557-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The path field is required.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555557
                      errors:
                        type: object
                        properties:
                          path:
                            type: array
                            example:
                              - 'The path field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555557-3111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 36666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-36666666777788889999000000000000-3666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 36666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-36666666777788889999000000000000-3666666677778888-01
      tags:
        - 'Admin ▸ Path reservations'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                path:
                  type: string
                  description: 'Путь или префикс (<=255).'
                  example: 'blog/*'
                  nullable: false
                source:
                  type: string
                  description: 'Идентификатор источника (<=100).'
                  example: marketing
                  nullable: false
                reason:
                  type: string
                  description: 'Причина (<=255).'
                  example: 'Landing redesign freeze'
                  nullable: true
              required:
                - path
                - source
  '/api/v1/admin/reservations/{path}':
    delete:
      summary: 'Удаление резервирования пути.'
      operationId: ''
      description: 'Поддерживает path как в URL параметре, так и в теле запроса.'
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Path released successfully'
                properties:
                  message:
                    type: string
                    example: 'Path released successfully'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555558
                    reason: missing_token
                  trace_id: 00-31111111222233334444555555555558-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555558
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555558-3111111122223333-01
        403:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/forbidden'
                  title: Forbidden
                  status: 403
                  code: FORBIDDEN
                  detail: 'Only owner marketing may release this path.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555559
                    path: /promo
                    owner: marketing
                    attempted_source: editorial
                  trace_id: 00-31111111222233334444555555555559-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/forbidden'
                  title:
                    type: string
                    example: Forbidden
                  status:
                    type: integer
                    example: 403
                  code:
                    type: string
                    example: FORBIDDEN
                  detail:
                    type: string
                    example: 'Only owner marketing may release this path.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555559
                      path:
                        type: string
                        example: /promo
                      owner:
                        type: string
                        example: marketing
                      attempted_source:
                        type: string
                        example: editorial
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555559-3111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'Path is required either in URL parameter or request body.'
                  meta:
                    request_id: 31111111-2222-3333-4444-555555555560
                    errors:
                      path:
                        - 'The path field is required either in URL parameter or request body.'
                  trace_id: 00-31111111222233334444555555555660-3111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'Path is required either in URL parameter or request body.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 31111111-2222-3333-4444-555555555560
                      errors:
                        type: object
                        properties:
                          path:
                            type: array
                            example:
                              - 'The path field is required either in URL parameter or request body.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-31111111222233334444555555555660-3111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 36666666-7777-8888-9999-000000000001
                    retry_after: 60
                  trace_id: 00-36666666777788889999000000000001-3666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 36666666-7777-8888-9999-000000000001
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-36666666777788889999000000000001-3666666677778888-01
      tags:
        - 'Admin ▸ Path reservations'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                source:
                  type: string
                  description: 'Текущий владелец резервирования.'
                  example: marketing
                  nullable: false
                path:
                  type: string
                  description: 'Альтернативный путь (если сложный URL).'
                  example: 'blog/*'
                  nullable: true
              required:
                - source
    parameters:
      -
        in: path
        name: path
        description: 'URL-кодированный путь.'
        example: 'blog%2F*'
        required: true
        schema:
          type: string
  /api/v1/admin/plugins:
    get:
      summary: 'Список плагинов.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: q
          description: 'Поиск по slug/name (<=128).'
          example: seo
          required: false
          schema:
            type: string
            description: 'Поиск по slug/name (<=128).'
            example: seo
            nullable: false
        -
          in: query
          name: enabled
          description: 'Фильтр по статусу. Values: true,false,any. Default: any.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Фильтр по статусу. Values: true,false,any. Default: any.'
            example: consequatur
            nullable: false
        -
          in: query
          name: sort
          description: 'Поле сортировки. Values: name,slug,version,updated_at. Default: name.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Поле сортировки. Values: name,slug,version,updated_at. Default: name.'
            example: consequatur
            nullable: false
        -
          in: query
          name: order
          description: 'Направление сортировки. Values: asc,desc. Default: asc.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Направление сортировки. Values: asc,desc. Default: asc.'
            example: consequatur
            nullable: false
        -
          in: query
          name: per_page
          description: 'Размер страницы (1-100). Default: 25.'
          example: 17
          required: false
          schema:
            type: integer
            description: 'Размер страницы (1-100). Default: 25.'
            example: 17
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      slug: seo-tools
                      name: 'SEO Tools'
                      version: 1.2.0
                      enabled: true
                      provider: Plugins\SeoTools\ServiceProvider
                      routes_active: true
                      last_synced_at: '2025-01-10T12:00:00+00:00'
                  links:
                    first: …
                    last: …
                    prev: null
                    next: null
                  meta:
                    current_page: 1
                    last_page: 1
                    per_page: 25
                    total: 1
                properties:
                  data:
                    type: array
                    example:
                      -
                        slug: seo-tools
                        name: 'SEO Tools'
                        version: 1.2.0
                        enabled: true
                        provider: Plugins\SeoTools\ServiceProvider
                        routes_active: true
                        last_synced_at: '2025-01-10T12:00:00+00:00'
                    items:
                      type: object
                      properties:
                        slug:
                          type: string
                          example: seo-tools
                        name:
                          type: string
                          example: 'SEO Tools'
                        version:
                          type: string
                          example: 1.2.0
                        enabled:
                          type: boolean
                          example: true
                        provider:
                          type: string
                          example: Plugins\SeoTools\ServiceProvider
                        routes_active:
                          type: boolean
                          example: true
                        last_synced_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                  links:
                    type: object
                    properties:
                      first:
                        type: string
                        example: …
                      last:
                        type: string
                        example: …
                      prev:
                        type: string
                        example: null
                      next:
                        type: string
                        example: null
                  meta:
                    type: object
                    properties:
                      current_page:
                        type: integer
                        example: 1
                      last_page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 25
                      total:
                        type: integer
                        example: 1
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-71111111222233334444555555555555-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555555-7111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 76666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-76666666777788889999000000000000-7666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 76666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-76666666777788889999000000000000-7666666677778888-01
      tags:
        - 'Admin ▸ Plugins'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                q:
                  type: string
                  description: 'Must not be greater than 128 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: true
                enabled:
                  type: string
                  description: ''
                  example: any
                  nullable: true
                  enum:
                    - 'true'
                    - 'false'
                    - any
                page:
                  type: integer
                  description: 'Must be at least 1.'
                  example: 2
                  nullable: true
                per_page:
                  type: integer
                  description: 'Must be at least 1. Must not be greater than 100.'
                  example: 13
                  nullable: true
                sort:
                  type: string
                  description: ''
                  example: version
                  nullable: true
                  enum:
                    - name
                    - slug
                    - version
                    - updated_at
                order:
                  type: string
                  description: ''
                  example: asc
                  nullable: true
                  enum:
                    - asc
                    - desc
  /api/v1/admin/plugins/sync:
    post:
      summary: 'Синхронизация метаданных плагинов.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        202:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  status: accepted
                  summary:
                    added:
                      - analytics
                    updated:
                      - seo-tools
                    removed: []
                    providers:
                      - Plugins\SeoTools\ServiceProvider
                properties:
                  status:
                    type: string
                    example: accepted
                  summary:
                    type: object
                    properties:
                      added:
                        type: array
                        example:
                          - analytics
                        items:
                          type: string
                      updated:
                        type: array
                        example:
                          - seo-tools
                        items:
                          type: string
                      removed:
                        type: array
                        example: []
                      providers:
                        type: array
                        example:
                          - Plugins\SeoTools\ServiceProvider
                        items:
                          type: string
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555564
                    reason: missing_token
                  trace_id: 00-71111111222233334444555555555664-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555564
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555664-7111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/invalid-plugin-manifest'
                  title: 'Invalid plugin manifest'
                  status: 422
                  code: INVALID_PLUGIN_MANIFEST
                  detail: 'Plugin manifest is invalid.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555565
                    manifest: plugins/seo-tools/manifest.json
                  trace_id: 00-71111111222233334444555555555665-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/invalid-plugin-manifest'
                  title:
                    type: string
                    example: 'Invalid plugin manifest'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: INVALID_PLUGIN_MANIFEST
                  detail:
                    type: string
                    example: 'Plugin manifest is invalid.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555565
                      manifest:
                        type: string
                        example: plugins/seo-tools/manifest.json
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555665-7111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 76666666-7777-8888-9999-000000000003
                    retry_after: 60
                  trace_id: 00-76666666777788889999000000000003-7666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 76666666-7777-8888-9999-000000000003
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-76666666777788889999000000000003-7666666677778888-01
        500:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/routes-reload-failed'
                  title: 'Failed to reload plugin routes'
                  status: 500
                  code: ROUTES_RELOAD_FAILED
                  detail: 'Failed to reload plugin routes.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555566
                    providers:
                      - Plugins\SeoTools\ServiceProvider
                  trace_id: 00-71111111222233334444555555555666-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/routes-reload-failed'
                  title:
                    type: string
                    example: 'Failed to reload plugin routes'
                  status:
                    type: integer
                    example: 500
                  code:
                    type: string
                    example: ROUTES_RELOAD_FAILED
                  detail:
                    type: string
                    example: 'Failed to reload plugin routes.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555566
                      providers:
                        type: array
                        example:
                          - Plugins\SeoTools\ServiceProvider
                        items:
                          type: string
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555666-7111111122223333-01
      tags:
        - 'Admin ▸ Plugins'
  '/api/v1/admin/plugins/{slug}/enable':
    post:
      summary: 'Активация плагина.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  slug: seo-tools
                  name: 'SEO Tools'
                  version: 1.2.0
                  enabled: true
                  provider: Plugins\SeoTools\ServiceProvider
                  routes_active: true
                  last_synced_at: '2025-01-10T12:00:00+00:00'
                properties:
                  slug:
                    type: string
                    example: seo-tools
                  name:
                    type: string
                    example: 'SEO Tools'
                  version:
                    type: string
                    example: 1.2.0
                  enabled:
                    type: boolean
                    example: true
                  provider:
                    type: string
                    example: Plugins\SeoTools\ServiceProvider
                  routes_active:
                    type: boolean
                    example: true
                  last_synced_at:
                    type: string
                    example: '2025-01-10T12:00:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555556
                    reason: missing_token
                  trace_id: 00-71111111222233334444555555555556-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555556
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555556-7111111122223333-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/plugin-not-found'
                  title: 'Plugin not found'
                  status: 404
                  code: PLUGIN_NOT_FOUND
                  detail: 'Plugin with slug "seo-tools" was not found.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555557
                    slug: seo-tools
                  trace_id: 00-71111111222233334444555555555557-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/plugin-not-found'
                  title:
                    type: string
                    example: 'Plugin not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: PLUGIN_NOT_FOUND
                  detail:
                    type: string
                    example: 'Plugin with slug "seo-tools" was not found.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555557
                      slug:
                        type: string
                        example: seo-tools
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555557-7111111122223333-01
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/plugin-already-enabled'
                  title: 'Plugin already enabled'
                  status: 409
                  code: PLUGIN_ALREADY_ENABLED
                  detail: 'Plugin seo-tools is already enabled.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555558
                    slug: seo-tools
                  trace_id: 00-71111111222233334444555555555558-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/plugin-already-enabled'
                  title:
                    type: string
                    example: 'Plugin already enabled'
                  status:
                    type: integer
                    example: 409
                  code:
                    type: string
                    example: PLUGIN_ALREADY_ENABLED
                  detail:
                    type: string
                    example: 'Plugin seo-tools is already enabled.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555558
                      slug:
                        type: string
                        example: seo-tools
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555558-7111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 76666666-7777-8888-9999-000000000001
                    retry_after: 60
                  trace_id: 00-76666666777788889999000000000001-7666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 76666666-7777-8888-9999-000000000001
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-76666666777788889999000000000001-7666666677778888-01
        500:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/routes-reload-failed'
                  title: 'Failed to reload plugin routes'
                  status: 500
                  code: ROUTES_RELOAD_FAILED
                  detail: 'Failed to reload plugin routes.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555559
                    slug: seo-tools
                  trace_id: 00-71111111222233334444555555555559-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/routes-reload-failed'
                  title:
                    type: string
                    example: 'Failed to reload plugin routes'
                  status:
                    type: integer
                    example: 500
                  code:
                    type: string
                    example: ROUTES_RELOAD_FAILED
                  detail:
                    type: string
                    example: 'Failed to reload plugin routes.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555559
                      slug:
                        type: string
                        example: seo-tools
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555559-7111111122223333-01
      tags:
        - 'Admin ▸ Plugins'
    parameters:
      -
        in: path
        name: slug
        description: 'Slug плагина.'
        example: seo-tools
        required: true
        schema:
          type: string
  '/api/v1/admin/plugins/{slug}/disable':
    post:
      summary: 'Деактивация плагина.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  slug: seo-tools
                  name: 'SEO Tools'
                  version: 1.2.0
                  enabled: false
                  provider: Plugins\SeoTools\ServiceProvider
                  routes_active: false
                  last_synced_at: '2025-01-10T12:00:00+00:00'
                properties:
                  slug:
                    type: string
                    example: seo-tools
                  name:
                    type: string
                    example: 'SEO Tools'
                  version:
                    type: string
                    example: 1.2.0
                  enabled:
                    type: boolean
                    example: false
                  provider:
                    type: string
                    example: Plugins\SeoTools\ServiceProvider
                  routes_active:
                    type: boolean
                    example: false
                  last_synced_at:
                    type: string
                    example: '2025-01-10T12:00:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555560
                    reason: missing_token
                  trace_id: 00-71111111222233334444555555555660-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555560
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555660-7111111122223333-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/plugin-not-found'
                  title: 'Plugin not found'
                  status: 404
                  code: PLUGIN_NOT_FOUND
                  detail: 'Plugin with slug "seo-tools" was not found.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555561
                    slug: seo-tools
                  trace_id: 00-71111111222233334444555555555661-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/plugin-not-found'
                  title:
                    type: string
                    example: 'Plugin not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: PLUGIN_NOT_FOUND
                  detail:
                    type: string
                    example: 'Plugin with slug "seo-tools" was not found.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555561
                      slug:
                        type: string
                        example: seo-tools
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555661-7111111122223333-01
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/plugin-already-disabled'
                  title: 'Plugin already disabled'
                  status: 409
                  code: PLUGIN_ALREADY_DISABLED
                  detail: 'Plugin seo-tools is already disabled.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555562
                    slug: seo-tools
                  trace_id: 00-71111111222233334444555555555662-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/plugin-already-disabled'
                  title:
                    type: string
                    example: 'Plugin already disabled'
                  status:
                    type: integer
                    example: 409
                  code:
                    type: string
                    example: PLUGIN_ALREADY_DISABLED
                  detail:
                    type: string
                    example: 'Plugin seo-tools is already disabled.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555562
                      slug:
                        type: string
                        example: seo-tools
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555662-7111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 76666666-7777-8888-9999-000000000002
                    retry_after: 60
                  trace_id: 00-76666666777788889999000000000002-7666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 76666666-7777-8888-9999-000000000002
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-76666666777788889999000000000002-7666666677778888-01
        500:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/routes-reload-failed'
                  title: 'Failed to reload plugin routes'
                  status: 500
                  code: ROUTES_RELOAD_FAILED
                  detail: 'Failed to reload plugin routes.'
                  meta:
                    request_id: 71111111-2222-3333-4444-555555555563
                    slug: seo-tools
                  trace_id: 00-71111111222233334444555555555663-7111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/routes-reload-failed'
                  title:
                    type: string
                    example: 'Failed to reload plugin routes'
                  status:
                    type: integer
                    example: 500
                  code:
                    type: string
                    example: ROUTES_RELOAD_FAILED
                  detail:
                    type: string
                    example: 'Failed to reload plugin routes.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 71111111-2222-3333-4444-555555555563
                      slug:
                        type: string
                        example: seo-tools
                  trace_id:
                    type: string
                    example: 00-71111111222233334444555555555663-7111111122223333-01
      tags:
        - 'Admin ▸ Plugins'
    parameters:
      -
        in: path
        name: slug
        description: 'Slug плагина.'
        example: seo-tools
        required: true
        schema:
          type: string
  /api/v1/admin/post-types:
    post:
      summary: 'Создание нового типа записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    slug: product
                    name: Products
                    options_json:
                      fields:
                        price:
                          type: number
                    created_at: '2025-01-10T12:45:00+00:00'
                    updated_at: '2025-01-10T12:45:00+00:00'
                properties:
                  data:
                    type: object
                    properties:
                      slug:
                        type: string
                        example: product
                      name:
                        type: string
                        example: Products
                      options_json:
                        type: object
                        properties:
                          fields:
                            type: object
                            properties:
                              price:
                                type: object
                                properties:
                                  type:
                                    type: string
                                    example: number
                      created_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-51111111222233334444555555555555-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555555-5111111122223333-01
        403:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/forbidden'
                  title: Forbidden
                  status: 403
                  code: FORBIDDEN
                  detail: 'This action is unauthorized.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/forbidden'
                  title:
                    type: string
                    example: Forbidden
                  status:
                    type: integer
                    example: 403
                  code:
                    type: string
                    example: FORBIDDEN
                  detail:
                    type: string
                    example: 'This action is unauthorized.'
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The slug has already been taken.'
                  meta:
                    request_id: 51111111-2222-3333-4444-555555555556
                    errors:
                      slug:
                        - 'The slug has already been taken.'
                  trace_id: 00-51111111222233334444555555555556-5111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The slug has already been taken.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 51111111-2222-3333-4444-555555555556
                      errors:
                        type: object
                        properties:
                          slug:
                            type: array
                            example:
                              - 'The slug has already been taken.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-51111111222233334444555555555556-5111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 56666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-56666666777788889999000000000000-5666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 56666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-56666666777788889999000000000000-5666666677778888-01
      tags:
        - 'Admin ▸ Post types'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: 'Уникальный slug PostType.'
                  example: product
                  nullable: false
                name:
                  type: string
                  description: 'Человекочитаемое название.'
                  example: Products
                  nullable: false
                options_json:
                  type: object
                  description: 'Опциональные настройки.'
                  example:
                    fields:
                      price:
                        type: number
                  nullable: false
                  properties: {  }
              required:
                - slug
                - name
    get:
      summary: 'Список всех типов записей.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      slug: article
                      name: Articles
                      options_json: {  }
                      created_at: '2025-01-10T12:00:00+00:00'
                      updated_at: '2025-01-10T12:45:00+00:00'
                properties:
                  data:
                    type: array
                    example:
                      -
                        slug: article
                        name: Articles
                        options_json: []
                        created_at: '2025-01-10T12:00:00+00:00'
                        updated_at: '2025-01-10T12:45:00+00:00'
                    items:
                      type: object
                      properties:
                        slug:
                          type: string
                          example: article
                        name:
                          type: string
                          example: Articles
                        options_json:
                          type: object
                          properties: {  }
                        created_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2025-01-10T12:45:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-41111111222233334444555555555555-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555555-4111111122223333-01
        403:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/forbidden'
                  title: Forbidden
                  status: 403
                  code: FORBIDDEN
                  detail: 'This action is unauthorized.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/forbidden'
                  title:
                    type: string
                    example: Forbidden
                  status:
                    type: integer
                    example: 403
                  code:
                    type: string
                    example: FORBIDDEN
                  detail:
                    type: string
                    example: 'This action is unauthorized.'
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 46666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-46666666777788889999000000000000-4666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 46666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-46666666777788889999000000000000-4666666677778888-01
      tags:
        - 'Admin ▸ Post types'
  '/api/v1/admin/post-types/{slug}':
    get:
      summary: 'Получение настроек типа записи.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    slug: article
                    name: Articles
                    options_json: {  }
                    updated_at: '2025-01-10T12:45:00+00:00'
                properties:
                  data:
                    type: object
                    properties:
                      slug:
                        type: string
                        example: article
                      name:
                        type: string
                        example: Articles
                      options_json:
                        type: object
                        properties: {  }
                      updated_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-41111111222233334444555555555555-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555555-4111111122223333-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'PostType not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Unknown post type slug: article'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555556
                    slug: article
                  trace_id: 00-41111111222233334444555555555556-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'PostType not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Unknown post type slug: article'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555556
                      slug:
                        type: string
                        example: article
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555556-4111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 46666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-46666666777788889999000000000000-4666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 46666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-46666666777788889999000000000000-4666666677778888-01
      tags:
        - 'Admin ▸ Post types'
    put:
      summary: 'Обновление настроек типа записи.'
      operationId: ''
      description: "Обновляет slug, name и options_json типа записи. Нормализует taxonomies в options_json:\nпринимает как целые числа, так и строковые представления чисел, преобразуя их в целые числа."
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    slug: article
                    name: Articles
                    options_json:
                      fields:
                        hero:
                          type: image
                    updated_at: '2025-01-10T12:45:00+00:00'
                properties:
                  data:
                    type: object
                    properties:
                      slug:
                        type: string
                        example: article
                      name:
                        type: string
                        example: Articles
                      options_json:
                        type: object
                        properties:
                          fields:
                            type: object
                            properties:
                              hero:
                                type: object
                                properties:
                                  type:
                                    type: string
                                    example: image
                      updated_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555557
                    reason: missing_token
                  trace_id: 00-41111111222233334444555555555557-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555557
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555557-4111111122223333-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'PostType not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Unknown post type slug: article'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555558
                    slug: article
                  trace_id: 00-41111111222233334444555555555558-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'PostType not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Unknown post type slug: article'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555558
                      slug:
                        type: string
                        example: article
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555558-4111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The options_json field is required.'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555559
                    errors:
                      options_json:
                        - 'The options_json field is required.'
                  trace_id: 00-41111111222233334444555555555559-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The options_json field is required.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555559
                      errors:
                        type: object
                        properties:
                          options_json:
                            type: array
                            example:
                              - 'The options_json field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555559-4111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 46666666-7777-8888-9999-000000000001
                    retry_after: 60
                  trace_id: 00-46666666777788889999000000000001-4666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 46666666-7777-8888-9999-000000000001
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-46666666777788889999000000000001-4666666677778888-01
      tags:
        - 'Admin ▸ Post types'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: 'optional Новый slug PostType.'
                  example: article-updated
                  nullable: false
                name:
                  type: string
                  description: 'optional Человекочитаемое название.'
                  example: 'Articles Updated'
                  nullable: false
                options_json:
                  type: object
                  description: 'JSON-объект схемы настроек.'
                  example:
                    fields:
                      hero:
                        type: image
                  nullable: false
                  properties: {  }
              required:
                - options_json
    delete:
      summary: 'Удаление типа записи.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: force
          description: 'Каскадно удалить все записи (Entry) этого типа.'
          example: true
          required: false
          schema:
            type: boolean
            description: 'Каскадно удалить все записи (Entry) этого типа.'
            example: true
            nullable: false
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555560
                    reason: missing_token
                  trace_id: 00-41111111222233334444555555555560-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555560
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555560-4111111122223333-01
        403:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/forbidden'
                  title: Forbidden
                  status: 403
                  code: FORBIDDEN
                  detail: 'This action is unauthorized.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/forbidden'
                  title:
                    type: string
                    example: Forbidden
                  status:
                    type: integer
                    example: 403
                  code:
                    type: string
                    example: FORBIDDEN
                  detail:
                    type: string
                    example: 'This action is unauthorized.'
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'PostType not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Unknown post type slug: article'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555561
                    slug: article
                  trace_id: 00-41111111222233334444555555555561-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'PostType not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Unknown post type slug: article'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555561
                      slug:
                        type: string
                        example: article
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555561-4111111122223333-01
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/conflict'
                  title: 'PostType has entries'
                  status: 409
                  code: CONFLICT
                  detail: 'Cannot delete post type while entries exist. Use force=1 to cascade delete.'
                  meta:
                    request_id: 41111111-2222-3333-4444-555555555562
                    entries_count: 5
                  trace_id: 00-41111111222233334444555555555562-4111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/conflict'
                  title:
                    type: string
                    example: 'PostType has entries'
                  status:
                    type: integer
                    example: 409
                  code:
                    type: string
                    example: CONFLICT
                  detail:
                    type: string
                    example: 'Cannot delete post type while entries exist. Use force=1 to cascade delete.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 41111111-2222-3333-4444-555555555562
                      entries_count:
                        type: integer
                        example: 5
                  trace_id:
                    type: string
                    example: 00-41111111222233334444555555555562-4111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 46666666-7777-8888-9999-000000000002
                    retry_after: 60
                  trace_id: 00-46666666777788889999000000000002-4666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 46666666-7777-8888-9999-000000000002
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-46666666777788889999000000000002-4666666677778888-01
      tags:
        - 'Admin ▸ Post types'
    parameters:
      -
        in: path
        name: slug
        description: 'Slug PostType.'
        example: article
        required: true
        schema:
          type: string
  /api/v1/admin/search/reindex:
    post:
      summary: 'Запуск фоновой переиндексации поиска.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        202:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  job_id: 01HZYQNGQK74ZP6YVZ6E7SFJ2D
                  batch_size: 500
                  estimated_total: 320
                properties:
                  job_id:
                    type: string
                    example: 01HZYQNGQK74ZP6YVZ6E7SFJ2D
                  batch_size:
                    type: integer
                    example: 500
                  estimated_total:
                    type: integer
                    example: 320
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 61111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-61111111222233334444555555555555-6111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 61111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-61111111222233334444555555555555-6111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 66666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-66666666777788889999000000000000-6666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 66666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-66666666777788889999000000000000-6666666677778888-01
        503:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/service-unavailable'
                  title: 'Service Unavailable'
                  status: 503
                  code: SERVICE_UNAVAILABLE
                  detail: 'Search service is temporarily unavailable.'
                  meta:
                    request_id: 61111111-2222-3333-4444-555555555556
                    service: search
                  trace_id: 00-61111111222233334444555555555556-6111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/service-unavailable'
                  title:
                    type: string
                    example: 'Service Unavailable'
                  status:
                    type: integer
                    example: 503
                  code:
                    type: string
                    example: SERVICE_UNAVAILABLE
                  detail:
                    type: string
                    example: 'Search service is temporarily unavailable.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 61111111-2222-3333-4444-555555555556
                      service:
                        type: string
                        example: search
                  trace_id:
                    type: string
                    example: 00-61111111222233334444555555555556-6111111122223333-01
      tags:
        - 'Admin ▸ Search'
  /api/v1/admin/taxonomies:
    get:
      summary: 'Список таксономий.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: q
          description: 'Поиск по label (<=255 символов).'
          example: category
          required: false
          schema:
            type: string
            description: 'Поиск по label (<=255 символов).'
            example: category
            nullable: false
        -
          in: query
          name: sort
          description: 'Сортировка. Values: created_at.desc,created_at.asc,label.asc,label.desc. Default: created_at.desc.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Сортировка. Values: created_at.desc,created_at.asc,label.asc,label.desc. Default: created_at.desc.'
            example: consequatur
            nullable: false
        -
          in: query
          name: per_page
          description: 'Размер страницы (10-100). Default: 15.'
          example: 17
          required: false
          schema:
            type: integer
            description: 'Размер страницы (10-100). Default: 15.'
            example: 17
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 1
                      label: Categories
                      hierarchical: true
                      options_json: {  }
                      created_at: '2025-01-10T12:00:00+00:00'
                      updated_at: '2025-01-10T12:00:00+00:00'
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 1
                        label: Categories
                        hierarchical: true
                        options_json: []
                        created_at: '2025-01-10T12:00:00+00:00'
                        updated_at: '2025-01-10T12:00:00+00:00'
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        label:
                          type: string
                          example: Categories
                        hierarchical:
                          type: boolean
                          example: true
                        options_json:
                          type: object
                          properties: {  }
                        created_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
                        updated_at:
                          type: string
                          example: '2025-01-10T12:00:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 21111111-2222-3333-4444-555555555555
                    reason: missing_token
                  trace_id: 00-21111111222233334444555555555555-2111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 21111111-2222-3333-4444-555555555555
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-21111111222233334444555555555555-2111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 26666666-7777-8888-9999-000000000000
                    retry_after: 60
                  trace_id: 00-26666666777788889999000000000000-2666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 26666666-7777-8888-9999-000000000000
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-26666666777788889999000000000000-2666666677778888-01
      tags:
        - 'Admin ▸ Taxonomies'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                q:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: false
                per_page:
                  type: integer
                  description: 'Must be at least 10. Must not be greater than 100.'
                  example: 1
                  nullable: false
                sort:
                  type: string
                  description: ''
                  example: label.desc
                  nullable: false
                  enum:
                    - created_at.desc
                    - created_at.asc
                    - label.asc
                    - label.desc
    post:
      summary: 'Создание таксономии.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 1
                    label: Categories
                    hierarchical: true
                    options_json: {  }
                    created_at: '2025-01-10T12:00:00+00:00'
                    updated_at: '2025-01-10T12:00:00+00:00'
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      label:
                        type: string
                        example: Categories
                      hierarchical:
                        type: boolean
                        example: true
                      options_json:
                        type: object
                        properties: {  }
                      created_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 21111111-2222-3333-4444-555555555556
                    reason: missing_token
                  trace_id: 00-21111111222233334444555555555556-2111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 21111111-2222-3333-4444-555555555556
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-21111111222233334444555555555556-2111111122223333-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The given data was invalid.'
                  meta:
                    request_id: 21111111-2222-3333-4444-555555555557
                    errors:
                      label:
                        - 'The label field is required.'
                  trace_id: 00-21111111222233334444555555555557-2111111122223333-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The given data was invalid.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 21111111-2222-3333-4444-555555555557
                      errors:
                        type: object
                        properties:
                          label:
                            type: array
                            example:
                              - 'The label field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-21111111222233334444555555555557-2111111122223333-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: 26666666-7777-8888-9999-000000000001
                    retry_after: 60
                  trace_id: 00-26666666777788889999000000000001-2666666677778888-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 26666666-7777-8888-9999-000000000001
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-26666666777788889999000000000001-2666666677778888-01
      tags:
        - 'Admin ▸ Taxonomies'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                label:
                  type: string
                  description: 'Человекочитаемое название (<=255).'
                  example: Categories
                  nullable: false
                hierarchical:
                  type: boolean
                  description: 'Иерархическая ли таксономия. Default: false.'
                  example: false
                  nullable: false
                options_json:
                  type: object
                  description: 'Дополнительные настройки.'
                  example:
                    color: '#ffcc00'
                  nullable: false
                  properties: {  }
              required:
                - label
  /api/v1/admin/templates:
    get:
      summary: 'Получение списка всех доступных шаблонов.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      name: pages.show
                      path: pages/show.blade.php
                      exists: true
                      created_at: null
                      updated_at: null
                    -
                      name: home.default
                      path: home/default.blade.php
                      exists: true
                      created_at: null
                      updated_at: null
                properties:
                  data:
                    type: array
                    example:
                      -
                        name: pages.show
                        path: pages/show.blade.php
                        exists: true
                        created_at: null
                        updated_at: null
                      -
                        name: home.default
                        path: home/default.blade.php
                        exists: true
                        created_at: null
                        updated_at: null
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          example: pages.show
                        path:
                          type: string
                          example: pages/show.blade.php
                        exists:
                          type: boolean
                          example: true
                        created_at:
                          type: string
                          example: null
                        updated_at:
                          type: string
                          example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 8b7cb6c3-0033-f3f5-e9f5-1ce7ceed543b
                    reason: missing_token
                  trace_id: 00-8b7cb6c30033f3f5e9f51ce7ceed543b-8b7cb6c30033f3f5-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 8b7cb6c3-0033-f3f5-e9f5-1ce7ceed543b
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-8b7cb6c30033f3f5e9f51ce7ceed543b-8b7cb6c30033f3f5-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e8b7cb6c3
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e8b7cb6c3-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e8b7cb6c3
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e8b7cb6c3-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Templates'
    post:
      summary: 'Создание нового шаблона.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        201:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    name: pages.article
                    path: pages/article.blade.php
                    exists: true
                    created_at: '2025-01-10T12:45:00+00:00'
                    updated_at: '2025-01-10T12:45:00+00:00'
                properties:
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        example: pages.article
                      path:
                        type: string
                        example: pages/article.blade.php
                      exists:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/conflict'
                  title: Conflict
                  status: 409
                  code: CONFLICT
                  detail: 'Template already exists.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/conflict'
                  title:
                    type: string
                    example: Conflict
                  status:
                    type: integer
                    example: 409
                  code:
                    type: string
                    example: CONFLICT
                  detail:
                    type: string
                    example: 'Template already exists.'
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The name field is required.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The name field is required.'
      tags:
        - 'Admin ▸ Templates'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Имя шаблона в dot notation.'
                  example: pages.article
                  nullable: false
                content:
                  type: string
                  description: 'Содержимое шаблона.'
                  example: '<div>Hello</div>'
                  nullable: false
              required:
                - name
                - content
  '/api/v1/admin/templates/{name}':
    get:
      summary: 'Получение конкретного шаблона по имени.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    name: pages.article
                    path: pages/article.blade.php
                    exists: true
                    content: '<div>Template content</div>'
                    created_at: null
                    updated_at: null
                properties:
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        example: pages.article
                      path:
                        type: string
                        example: pages/article.blade.php
                      exists:
                        type: boolean
                        example: true
                      content:
                        type: string
                        example: '<div>Template content</div>'
                      created_at:
                        type: string
                        example: null
                      updated_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Not Found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Template not found.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Not Found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Template not found.'
      tags:
        - 'Admin ▸ Templates'
    put:
      summary: 'Обновление существующего шаблона.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    name: pages.article
                    path: pages/article.blade.php
                    exists: true
                    created_at: null
                    updated_at: '2025-01-10T12:45:00+00:00'
                properties:
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        example: pages.article
                      path:
                        type: string
                        example: pages/article.blade.php
                      exists:
                        type: boolean
                        example: true
                      created_at:
                        type: string
                        example: null
                      updated_at:
                        type: string
                        example: '2025-01-10T12:45:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Not Found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Template not found.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Not Found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Template not found.'
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The content field is required.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The content field is required.'
      tags:
        - 'Admin ▸ Templates'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
                  description: 'Содержимое шаблона.'
                  example: '<div>Updated</div>'
                  nullable: false
              required:
                - content
    parameters:
      -
        in: path
        name: name
        description: 'Имя шаблона в dot notation.'
        example: pages.article
        required: true
        schema:
          type: string
  '/api/v1/admin/terms/{id}':
    get:
      summary: 'Получение терма по ID.'
      operationId: ID
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 3
                    taxonomy: 1
                    name: Guides
                    meta_json: {  }
                    created_at: '2025-01-10T12:00:00+00:00'
                    updated_at: '2025-01-10T12:00:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 3
                      taxonomy:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: Guides
                      meta_json:
                        type: object
                        properties: {  }
                      created_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 5ecb6c30-033f-3f5e-5e9f-51ce7ceed543
                    reason: missing_token
                  trace_id: 00-5ecb6c30033f3f5e5e9f51ce7ceed543-5ecb6c30033f3f5e-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 5ecb6c30-033f-3f5e-5e9f-51ce7ceed543
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-5ecb6c30033f3f5e5e9f51ce7ceed543-5ecb6c30033f3f5e-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Term not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Term with ID 3 does not exist.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c30
                    term_id: 3
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c30-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Term not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Term with ID 3 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c30
                      term_id:
                        type: integer
                        example: 3
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c30-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c31
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c31-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c31
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c31-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Terms'
    put:
      summary: 'Обновление терма.'
      operationId: ''
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    id: 3
                    taxonomy: 1
                    name: Tutorials
                    meta_json:
                      color: '#3366ff'
                    created_at: '2025-01-10T12:00:00+00:00'
                    updated_at: '2025-01-10T12:05:00+00:00'
                    deleted_at: null
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 3
                      taxonomy:
                        type: integer
                        example: 1
                      name:
                        type: string
                        example: Tutorials
                      meta_json:
                        type: object
                        properties:
                          color:
                            type: string
                            example: '#3366ff'
                      created_at:
                        type: string
                        example: '2025-01-10T12:00:00+00:00'
                      updated_at:
                        type: string
                        example: '2025-01-10T12:05:00+00:00'
                      deleted_at:
                        type: string
                        example: null
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 7ceed543-b8b7-cb6c-3003-3f5e5ecb6c32
                    reason: missing_token
                  trace_id: 00-7ceed543b8b7cb6c30033f3f5ecb6c32-7ceed543b8b7cb6c-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 7ceed543-b8b7-cb6c-3003-3f5e5ecb6c32
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-7ceed543b8b7cb6c30033f3f5ecb6c32-7ceed543b8b7cb6c-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Term not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Term with ID 3 does not exist.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c33
                    term_id: 3
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c33-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Term not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Term with ID 3 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c33
                      term_id:
                        type: integer
                        example: 3
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c33-eed543b8b7cb6c30-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The given data was invalid.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c34
                    errors:
                      name:
                        - 'The name field is required.'
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c34-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The given data was invalid.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c34
                      errors:
                        type: object
                        properties:
                          name:
                            type: array
                            example:
                              - 'The name field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c34-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c35
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c35-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c35
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c35-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Terms'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Новое название (<=255).'
                  example: Tutorials
                  nullable: false
                meta_json:
                  type: object
                  description: 'Обновлённые мета-данные.'
                  example:
                    color: '#3366ff'
                  nullable: true
                  properties: {  }
                parent_id:
                  type: integer
                  description: ''
                  example: 17
                  nullable: true
    delete:
      summary: 'Удаление терма.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: forceDetach
          description: 'Автоматически отвязать терм от записей.'
          example: true
          required: false
          schema:
            type: boolean
            description: 'Автоматически отвязать терм от записей.'
            example: true
            nullable: false
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c36
                    reason: missing_token
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c36-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c36
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c36-eed543b8b7cb6c30-01
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Term not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Term with ID 3 does not exist.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c37
                    term_id: 3
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c37-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Term not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Term with ID 3 does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c37
                      term_id:
                        type: integer
                        example: 3
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c37-eed543b8b7cb6c30-01
        409:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/conflict'
                  title: 'Term still attached'
                  status: 409
                  code: CONFLICT
                  detail: 'Cannot delete term while it is attached to entries. Use forceDetach=1 to detach automatically.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c38
                    term_id: 3
                    force_detach: false
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c38-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/conflict'
                  title:
                    type: string
                    example: 'Term still attached'
                  status:
                    type: integer
                    example: 409
                  code:
                    type: string
                    example: CONFLICT
                  detail:
                    type: string
                    example: 'Cannot delete term while it is attached to entries. Use forceDetach=1 to detach automatically.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c38
                      term_id:
                        type: integer
                        example: 3
                      force_detach:
                        type: boolean
                        example: false
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c38-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e5ecb6c39
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e5ecb6c39-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e5ecb6c39
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e5ecb6c39-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Terms'
    parameters:
      -
        in: path
        name: id
        description: 'The ID of the term.'
        example: consequatur
        required: true
        schema:
          type: string
      -
        in: path
        name: term
        description: 'ID терма.'
        example: 3
        required: true
        schema:
          type: integer
  /api/v1/admin/utils/slugify:
    get:
      summary: 'Генерация slug предпросмотра.'
      operationId: Slug
      description: ''
      parameters:
        -
          in: query
          name: title
          description: 'Заголовок (<=500).'
          example: 'New landing page'
          required: true
          schema:
            type: string
            description: 'Заголовок (<=500).'
            example: 'New landing page'
            nullable: false
        -
          in: query
          name: postType
          description: 'Slug типа записи (для проверки уникальности). Default: page.'
          example: article
          required: false
          schema:
            type: string
            description: 'Slug типа записи (для проверки уникальности). Default: page.'
            example: article
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  base: new-landing-page
                  unique: new-landing-page-2
                properties:
                  base:
                    type: string
                    example: new-landing-page
                  unique:
                    type: string
                    example: new-landing-page-2
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: 8b7cb6c3-0033-f3f5-e9f5-1ce7ceed543b
                    reason: missing_token
                  trace_id: 00-8b7cb6c30033f3f5e9f51ce7ceed543b-8b7cb6c30033f3f5-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 8b7cb6c3-0033-f3f5-e9f5-1ce7ceed543b
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-8b7cb6c30033f3f5e9f51ce7ceed543b-8b7cb6c30033f3f5-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The title field is required.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e8b7cb6c3
                    errors:
                      title:
                        - 'The title field is required.'
                  trace_id: 00-eed543b8b7cb6c30033f3f5e8b7cb6c3-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The title field is required.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e8b7cb6c3
                      errors:
                        type: object
                        properties:
                          title:
                            type: array
                            example:
                              - 'The title field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e8b7cb6c3-eed543b8b7cb6c30-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eed543b8-b7cb-6c30-033f-3f5e8c30033f
                    retry_after: 60
                  trace_id: 00-eed543b8b7cb6c30033f3f5e8c30033f-eed543b8b7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eed543b8-b7cb-6c30-033f-3f5e8c30033f
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eed543b8b7cb6c30033f3f5e8c30033f-eed543b8b7cb6c30-01
      tags:
        - 'Admin ▸ Utils'
  /api/v1/auth/login:
    post:
      summary: 'Аутентификация администратора и выдача JWT.'
      operationId: JWT
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  user:
                    id: 1
                    email: admin@stupidcms.dev
                    name: Admin
                properties:
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      email:
                        type: string
                        example: admin@stupidcms.dev
                      name:
                        type: string
                        example: Admin
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'about:blank'
                  title: Unauthorized
                  status: 401
                  detail: 'Invalid credentials.'
                properties:
                  type:
                    type: string
                    example: 'about:blank'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  detail:
                    type: string
                    example: 'Invalid credentials.'
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'The given data was invalid.'
                  meta:
                    request_id: dddddddd-dddd-dddd-dddd-dddddddddddd
                    errors:
                      email:
                        - 'The email field is required.'
                      password:
                        - 'The password field is required.'
                  trace_id: 00-dddddddddddddddddddddddddddddddd-dddddddddddd-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'The given data was invalid.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: dddddddd-dddd-dddd-dddd-dddddddddddd
                      errors:
                        type: object
                        properties:
                          email:
                            type: array
                            example:
                              - 'The email field is required.'
                            items:
                              type: string
                          password:
                            type: array
                            example:
                              - 'The password field is required.'
                            items:
                              type: string
                  trace_id:
                    type: string
                    example: 00-dddddddddddddddddddddddddddddddd-dddddddddddd-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee
                    retry_after: 60
                  trace_id: 00-eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-eeeeeeeeeeee-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-eeeeeeeeeeee-01
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: 'RFC 5322 email в нижнем регистре.'
                  example: admin@stupidcms.dev
                  nullable: false
                password:
                  type: string
                  description: '8-200 символов.'
                  example: Secret123!
                  nullable: false
              required:
                - email
                - password
      security: []
  /api/v1/auth/refresh:
    post:
      summary: 'Ротация refresh токена и выдача новой пары JWT.'
      operationId: RefreshJWT
      description: ''
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Tokens refreshed successfully.'
                properties:
                  message:
                    type: string
                    example: 'Tokens refreshed successfully.'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  detail: 'Missing refresh token.'
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  detail:
                    type: string
                    example: 'Missing refresh token.'
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa
                    retry_after: 60
                  trace_id: 00-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaa-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-aaaaaaaaaaaa-01
        500:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'about:blank'
                  title: 'Internal Server Error'
                  status: 500
                  detail: 'Failed to refresh token due to server error.'
                properties:
                  type:
                    type: string
                    example: 'about:blank'
                  title:
                    type: string
                    example: 'Internal Server Error'
                  status:
                    type: integer
                    example: 500
                  detail:
                    type: string
                    example: 'Failed to refresh token due to server error.'
      tags:
        - Auth
      security: []
  /api/v1/auth/logout:
    post:
      summary: 'Завершение сессии и отзыв refresh токенов.'
      operationId: Refresh
      description: "Требует валидный JWT access token. CSRF защита не требуется,\nтак как JWT guard проверяет токен из HttpOnly cookie."
      parameters: []
      responses:
        204:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/unauthorized'
                  title: Unauthorized
                  status: 401
                  code: UNAUTHORIZED
                  detail: 'Authentication is required to access this resource.'
                  meta:
                    request_id: bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb
                    reason: missing_token
                  trace_id: 00-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb-bbbbbbbbbbbb-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/unauthorized'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  code:
                    type: string
                    example: UNAUTHORIZED
                  detail:
                    type: string
                    example: 'Authentication is required to access this resource.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb
                      reason:
                        type: string
                        example: missing_token
                  trace_id:
                    type: string
                    example: 00-bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb-bbbbbbbbbbbb-01
        429:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title: 'Too Many Requests'
                  status: 429
                  code: RATE_LIMIT_EXCEEDED
                  detail: 'Too many attempts. Try again later.'
                  meta:
                    request_id: cccccccc-cccc-cccc-cccc-cccccccccccc
                    retry_after: 60
                  trace_id: 00-cccccccccccccccccccccccccccccccc-cccccccccccc-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/rate-limit-exceeded'
                  title:
                    type: string
                    example: 'Too Many Requests'
                  status:
                    type: integer
                    example: 429
                  code:
                    type: string
                    example: RATE_LIMIT_EXCEEDED
                  detail:
                    type: string
                    example: 'Too many attempts. Try again later.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: cccccccc-cccc-cccc-cccc-cccccccccccc
                      retry_after:
                        type: integer
                        example: 60
                  trace_id:
                    type: string
                    example: 00-cccccccccccccccccccccccccccccccc-cccccccccccc-01
      tags:
        - Auth
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                all:
                  type: boolean
                  description: 'Отозвать все refresh токены пользователя (значение true).'
                  example: true
                  nullable: false
  /api/v1/admin/auth/current:
    get:
      summary: 'Получить данные текущего авторизованного пользователя.'
      operationId: ''
      description: 'Также выдает CSRF токен в cookie для последующих state-changing запросов.'
      parameters: []
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  id: 1
                  email: admin@stupidcms.dev
                  name: Admin
                  is_admin: true
                  created_at: '2025-01-10T12:00:00+00:00'
                  updated_at: '2025-01-10T12:00:00+00:00'
                properties:
                  id:
                    type: integer
                    example: 1
                  email:
                    type: string
                    example: admin@stupidcms.dev
                  name:
                    type: string
                    example: Admin
                  is_admin:
                    type: boolean
                    example: true
                  created_at:
                    type: string
                    example: '2025-01-10T12:00:00+00:00'
                  updated_at:
                    type: string
                    example: '2025-01-10T12:00:00+00:00'
        401:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'about:blank'
                  title: Unauthorized
                  status: 401
                  detail: 'Authentication required.'
                properties:
                  type:
                    type: string
                    example: 'about:blank'
                  title:
                    type: string
                    example: Unauthorized
                  status:
                    type: integer
                    example: 401
                  detail:
                    type: string
                    example: 'Authentication required.'
      tags:
        - Auth
  '/api/v1/admin/taxonomies/{id}':
    get:
      summary: 'Получение таксономии.'
      operationId: ''
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      security: []
    put:
      summary: 'Обновление таксономии.'
      operationId: ''
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                label:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: false
                hierarchical:
                  type: boolean
                  description: ''
                  example: false
                  nullable: false
                options_json:
                  type: object
                  description: ''
                  example: null
                  nullable: false
                  properties: {  }
      security: []
    delete:
      summary: 'Удаление таксономии.'
      operationId: ''
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      security: []
    parameters:
      -
        in: path
        name: id
        description: 'The ID of the taxonomy.'
        example: consequatur
        required: true
        schema:
          type: string
  '/api/v1/admin/taxonomies/{taxonomy}/terms/tree':
    get:
      summary: 'Получение дерева терминов таксономии.'
      operationId: ''
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      security: []
    parameters:
      -
        in: path
        name: taxonomy
        description: 'The taxonomy.'
        example: 1
        required: true
        schema:
          type: integer
  '/api/v1/admin/taxonomies/{taxonomy_id}/terms':
    get:
      summary: 'Список термов внутри таксономии.'
      operationId: ''
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                q:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: false
                per_page:
                  type: integer
                  description: 'Must be at least 10. Must not be greater than 100.'
                  example: 1
                  nullable: false
                sort:
                  type: string
                  description: ''
                  example: created_at.asc
                  nullable: false
                  enum:
                    - created_at.desc
                    - created_at.asc
                    - name.asc
                    - name.desc
      security: []
    post:
      summary: 'Создание терма.'
      operationId: ''
      description: ''
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 'Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: false
                meta_json:
                  type: object
                  description: ''
                  example: null
                  nullable: true
                  properties: {  }
                parent_id:
                  type: integer
                  description: ''
                  example: 17
                  nullable: true
              required:
                - name
      security: []
    parameters:
      -
        in: path
        name: taxonomy_id
        description: 'The ID of the taxonomy.'
        example: 1
        required: true
        schema:
          type: integer
  /api/v1/admin/media/config:
    get:
      summary: 'Получение конфигурации системы медиа-файлов.'
      operationId: ''
      description: "Возвращает информацию о разрешенных типах файлов (MIME-типы),\nмаксимальном размере загрузки и доступных вариантах изображений."
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      security: []
  '/api/v1/admin/media/{media}':
    get:
      summary: 'Просмотр информации о медиа-файле.'
      operationId: ''
      description: "Возвращает специализированный ресурс в зависимости от типа медиа:\n- MediaImageResource для изображений (с width, height, preview_urls)\n- MediaVideoResource для видео (с duration_ms, bitrate_kbps, frame_rate и т.д.)\n- MediaAudioResource для аудио (с duration_ms, bitrate_kbps, audio_codec)\n- MediaDocumentResource для документов (только базовые поля)"
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      security: []
    put:
      summary: 'Обновление метаданных медиа-файла.'
      operationId: ''
      description: "Обновляет title, alt и возвращает специализированный ресурс\nв зависимости от типа медиа (изображение, видео, аудио, документ)."
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: 'Must be at least 1 character. Must not be greater than 255 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: true
                alt:
                  type: string
                  description: 'Must be at least 1 character. Must not be greater than 255 characters.'
                  example: amniihfqcoynlazghdtqt
                  nullable: true
      security: []
    parameters:
      -
        in: path
        name: media
        description: ''
        example: consequatur
        required: true
        schema:
          type: string
  /api/v1/admin/media/bulk/restore:
    post:
      summary: 'Массовое восстановление удаленных медиа-файлов.'
      operationId: ''
      description: "Восстанавливает мягко удаленные медиа-файлы по массиву идентификаторов.\nВозвращает коллекцию с специализированными ресурсами для каждого типа медиа."
      parameters: []
      responses: {  }
      tags:
        - Endpoints
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  type: array
                  description: 'Must be 26 characters.'
                  example:
                    - vmqeopfuudtdsufvyvddqamnii
                  items:
                    type: string
              required:
                - ids
      security: []
  '/api/v1/media/{id}':
    get:
      summary: 'Получить медиа-файл или его вариант.'
      operationId: ''
      description: "Поддерживает:\n- Оригинальные файлы (без параметра variant)\n- Варианты изображений (с параметром variant, например: thumbnail, medium, large)\n\nДля админов (аутентифицированных пользователей):\n- Доступ к удаленным файлам (withTrashed)\n- Проверка прав доступа через Policy\n- Аутентификация работает через JWT токен из cookie (cms_at) даже на публичных роутах\n\nДля публичных запросов:\n- Доступ только к активным (не удаленным) файлам\n- Без проверки прав доступа\n\nПоиск медиа-файла выполняется по ULID идентификатору через where('id', $id)->first()\nдля обеспечения корректной работы с ULID в Laravel."
      parameters:
        -
          in: query
          name: variant
          description: 'Вариант изображения (thumbnail, medium, large). Если не указан, возвращается оригинал.'
          example: consequatur
          required: false
          schema:
            type: string
            description: 'Вариант изображения (thumbnail, medium, large). Если не указан, возвращается оригинал.'
            example: consequatur
            nullable: false
      responses:
        200:
          description: ''
          content:
            text/plain:
              schema:
                type: string
                example: file
        302:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example: {  }
                properties: {  }
        404:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/not-found'
                  title: 'Media not found'
                  status: 404
                  code: NOT_FOUND
                  detail: 'Media with ID 01HZYQNGQK74ZP6YVZ6E7SFJ2D does not exist.'
                  meta:
                    request_id: 0c0c0c0c-0c0c-0c0c-0c0c-0c0c0c0c0c01
                    media_id: 01HZYQNGQK74ZP6YVZ6E7SFJ2D
                  trace_id: 00-0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c01-0c0c0c0c0c0c0c-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/not-found'
                  title:
                    type: string
                    example: 'Media not found'
                  status:
                    type: integer
                    example: 404
                  code:
                    type: string
                    example: NOT_FOUND
                  detail:
                    type: string
                    example: 'Media with ID 01HZYQNGQK74ZP6YVZ6E7SFJ2D does not exist.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 0c0c0c0c-0c0c-0c0c-0c0c-0c0c0c0c0c01
                      media_id:
                        type: string
                        example: 01HZYQNGQK74ZP6YVZ6E7SFJ2D
                  trace_id:
                    type: string
                    example: 00-0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c01-0c0c0c0c0c0c0c-01
        422:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/validation-error'
                  title: 'Validation Error'
                  status: 422
                  code: VALIDATION_ERROR
                  detail: 'Variant foo is not configured.'
                  meta:
                    request_id: 0b0b0b0b-b7cb-6c30-033f-3f5e0b0b0b03
                    variant: foo
                  trace_id: 00-0b0b0b0bb7cb6c30033f3f5e0b0b0b03-0b0b0b0bb7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/validation-error'
                  title:
                    type: string
                    example: 'Validation Error'
                  status:
                    type: integer
                    example: 422
                  code:
                    type: string
                    example: VALIDATION_ERROR
                  detail:
                    type: string
                    example: 'Variant foo is not configured.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 0b0b0b0b-b7cb-6c30-033f-3f5e0b0b0b03
                      variant:
                        type: string
                        example: foo
                  trace_id:
                    type: string
                    example: 00-0b0b0b0bb7cb6c30033f3f5e0b0b0b03-0b0b0b0bb7cb6c30-01
        500:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  type: 'https://stupidcms.dev/problems/media-variant-error'
                  title: 'Failed to generate media variant'
                  status: 500
                  code: MEDIA_VARIANT_ERROR
                  detail: 'Failed to generate media variant.'
                  meta:
                    request_id: 0b0b0b0b-b7cb-6c30-033f-3f5e0b0b0b04
                    variant: thumbnail
                  trace_id: 00-0b0b0b0bb7cb6c30033f3f5e0b0b0b04-0b0b0b0bb7cb6c30-01
                properties:
                  type:
                    type: string
                    example: 'https://stupidcms.dev/problems/media-variant-error'
                  title:
                    type: string
                    example: 'Failed to generate media variant'
                  status:
                    type: integer
                    example: 500
                  code:
                    type: string
                    example: MEDIA_VARIANT_ERROR
                  detail:
                    type: string
                    example: 'Failed to generate media variant.'
                  meta:
                    type: object
                    properties:
                      request_id:
                        type: string
                        example: 0b0b0b0b-b7cb-6c30-033f-3f5e0b0b0b04
                      variant:
                        type: string
                        example: thumbnail
                  trace_id:
                    type: string
                    example: 00-0b0b0b0bb7cb6c30033f3f5e0b0b0b04-0b0b0b0bb7cb6c30-01
      tags:
        - Media
      security: []
    parameters:
      -
        in: path
        name: id
        description: 'ULID идентификатор медиа-файла.'
        example: 01HZYQNGQK74ZP6YVZ6E7SFJ2D
        required: true
        schema:
          type: string
  /api/v1/search:
    get:
      summary: 'Поиск опубликованного контента с фильтрами.'
      operationId: ''
      description: ''
      parameters:
        -
          in: query
          name: q
          description: 'Поисковая строка (2-200 символов).'
          example: 'headless cms'
          required: false
          schema:
            type: string
            description: 'Поисковая строка (2-200 символов).'
            example: 'headless cms'
            nullable: false
        -
          in: query
          name: 'post_type[]'
          description: 'Список slug типов записей (до 10).'
          example: '["article","event"]'
          required: false
          schema:
            type: string
            description: 'Список slug типов записей (до 10).'
            example: '["article","event"]'
            nullable: false
        -
          in: query
          name: 'term[]'
          description: 'Фильтр по термам в формате taxonomy:term (до 20 значений).'
          example: '["category:guides"]'
          required: false
          schema:
            type: string
            description: 'Фильтр по термам в формате taxonomy:term (до 20 значений).'
            example: '["category:guides"]'
            nullable: false
        -
          in: query
          name: from
          description: 'date Дата публикации c (ISO 8601).'
          example: '2025-01-01'
          required: false
          schema:
            type: string
            description: 'date Дата публикации c (ISO 8601).'
            example: '2025-01-01'
            nullable: false
        -
          in: query
          name: to
          description: 'date Дата публикации до (>= from).'
          example: '2025-12-31'
          required: false
          schema:
            type: string
            description: 'date Дата публикации до (>= from).'
            example: '2025-12-31'
            nullable: false
        -
          in: query
          name: page
          description: 'Номер страницы (>=1). Default: 1.'
          example: 17
          required: false
          schema:
            type: integer
            description: 'Номер страницы (>=1). Default: 1.'
            example: 17
            nullable: false
        -
          in: query
          name: per_page
          description: "Количество элементов на странице (1-100, по умолчанию config('search.pagination.per_page'))."
          example: 20
          required: false
          schema:
            type: integer
            description: "Количество элементов на странице (1-100, по умолчанию config('search.pagination.per_page'))."
            example: 20
            nullable: false
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                    -
                      id: 'entries:42'
                      post_type: article
                      slug: how-to-headless
                      title: 'How to build a headless CMS'
                      excerpt: 'Step-by-step launch guide...'
                      score: 12.45
                      highlight:
                        title:
                          - '<em>headless</em> CMS'
                  meta:
                    total: 120
                    page: 1
                    per_page: 20
                    took_ms: 18
                properties:
                  data:
                    type: array
                    example:
                      -
                        id: 'entries:42'
                        post_type: article
                        slug: how-to-headless
                        title: 'How to build a headless CMS'
                        excerpt: 'Step-by-step launch guide...'
                        score: 12.45
                        highlight:
                          title:
                            - '<em>headless</em> CMS'
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 'entries:42'
                        post_type:
                          type: string
                          example: article
                        slug:
                          type: string
                          example: how-to-headless
                        title:
                          type: string
                          example: 'How to build a headless CMS'
                        excerpt:
                          type: string
                          example: 'Step-by-step launch guide...'
                        score:
                          type: number
                          example: 12.45
                        highlight:
                          type: object
                          properties:
                            title:
                              type: array
                              example:
                                - '<em>headless</em> CMS'
                              items:
                                type: string
                  meta:
                    type: object
                    properties:
                      total:
                        type: integer
                        example: 120
                      page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 20
                      took_ms:
                        type: integer
                        example: 18
      tags:
        - Search
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                q:
                  type: string
                  description: 'Must be at least 2 characters. Must not be greater than 200 characters.'
                  example: vmqeopfuudtdsufvyvddq
                  nullable: true
                post_type:
                  type: array
                  description: 'Must not be greater than 64 characters.'
                  example:
                    - amniihfqcoynlazghdtqt
                  items:
                    type: string
                term:
                  type: array
                  description: 'Must match the regex /^[0-9]+:[0-9]+$/.'
                  example:
                    - '5627:7'
                  items:
                    type: string
                from:
                  type: string
                  description: 'Must be a valid date.'
                  example: '2025-11-19T11:16:52'
                  nullable: true
                to:
                  type: string
                  description: 'Must be a valid date. Must be a date after or equal to <code>from</code>.'
                  example: '2106-12-18'
                  nullable: true
                page:
                  type: integer
                  description: 'Must be at least 1.'
                  example: 45
                  nullable: true
                per_page:
                  type: integer
                  description: 'Must be at least 1. Must not be greater than 100.'
                  example: 16
                  nullable: true
      security: []
