---
owner: "@backend-team"
system_of_record: "narrative"
review_cycle_days: 30
last_reviewed: 2025-11-08
related_code:
    - "app/Models/*.php"
    - "routes/*.php"
    - "config/stupidcms.php"
---

# –ë—ã—Å—Ç—Ä—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

> **–¶–µ–ª—å —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã** ‚Äî –¥–∞—Ç—å –Ω–æ–≤–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –∏–ª–∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É (Cursor) –±—ã—Å—Ç—Ä–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞ 2 –º–∏–Ω—É—Ç—ã.

## üéØ –ß—Ç–æ —ç—Ç–æ?

**stupidCms** ‚Äî headless CMS –Ω–∞ Laravel 12 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

**–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è**: –≥–∏–±–∫–∏–µ Post Types + –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ Slugs + –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ API.

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

| –°—É—â–Ω–æ—Å—Ç—å      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                            | –ú–æ–¥–µ–ª—å                     |
| ------------- | ------------------------------------- | -------------------------- |
| **PostType**  | –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å—Ç–∞—Ç—å—è, —Å–æ–±—ã—Ç–∏–µ, —Ç–æ–≤–∞—Ä) | `app/Models/PostType.php`  |
| **Entry**     | –ó–∞–ø–∏—Å—å (—ç–∫–∑–µ–º–ø–ª—è—Ä PostType)           | `app/Models/Entry.php`     |
| **EntrySlug** | –ò—Å—Ç–æ—Ä–∏—è URL —Å 301-—Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º–∏         | `app/Models/EntrySlug.php` |
| **Term**      | –ö–∞—Ç–µ–≥–æ—Ä–∏—è, —Ç—ç–≥ (–∏–∑ Taxonomy)          | `app/Models/Term.php`      |
| **Media**     | –§–∞–π–ª –≤ –º–µ–¥–∏–∞—Ç–µ–∫–µ                      | `app/Models/Media.php`     |
| **Option**    | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ (key-value)           | `app/Models/Option.php`    |
| **User**      | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–æ–ª—è–º–∏                 | `app/Models/User.php`      |

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
app/
‚îú‚îÄ‚îÄ Domain/              # –î–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Auth/            # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
‚îÇ   ‚îú‚îÄ‚îÄ Routing/         # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ Models/              # Eloquent –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/     # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Requests/        # Form Requests (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ Resources/       # API Resources (—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ Policies/            # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (abilities)
‚îú‚îÄ‚îÄ Support/             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ Slug/            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ä–µ–∑–æ–ª–≤ —Å–ª–∞–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ EntrySlug/       # –ò—Å—Ç–æ—Ä–∏—è —Å–ª–∞–≥–æ–≤ + 301
‚îÇ   ‚îî‚îÄ‚îÄ ReservedRoutes/  # –ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö URL
‚îî‚îÄ‚îÄ Observers/           # Eloquent –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏

database/
‚îú‚îÄ‚îÄ migrations/          # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îî‚îÄ‚îÄ factories/           # –§–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

routes/
‚îú‚îÄ‚îÄ api.php              # Public API (/api/*)
‚îú‚îÄ‚îÄ api_admin.php        # Admin API (/api/admin/*)
‚îú‚îÄ‚îÄ web.php              # –û—Å–Ω–æ–≤–Ω—ã–µ web-—Ä–æ—É—Ç—ã
‚îú‚îÄ‚îÄ web_content.php      # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (entries)
‚îî‚îÄ‚îÄ web_core.php         # –°–ª—É–∂–µ–±–Ω—ã–µ —Ä–æ—É—Ç—ã

tests/
‚îú‚îÄ‚îÄ Feature/             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (Pest)
‚îî‚îÄ‚îÄ Unit/                # Unit-—Ç–µ—Å—Ç—ã

docs/
‚îî‚îÄ‚îÄ ...                  # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîë –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. Post Types & Entries

-   **PostType** ‚Äî —à–∞–±–ª–æ–Ω —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Å—Ç–∞—Ç—å—è", "—Å–æ–±—ã—Ç–∏–µ")
-   **Entry** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å —ç—Ç–æ–≥–æ —Ç–∏–ø–∞
-   –ö–∞–∂–¥—ã–π Entry –∏–º–µ–µ—Ç `slug`, `published_at`, `unpublished_at`

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Post Types](../10-concepts/post-types.md), [Entries](../10-concepts/entries.md)

### 2. Slugs & 301 Redirects

-   **EntrySlug** —Ö—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–∏–π –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ URL
-   –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ slug –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è 301-—Ä–µ–¥–∏—Ä–µ–∫—Ç
-   –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é (parent slugs)

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Slugs & 301](../10-concepts/slugs.md)

### 3. Taxonomy & Terms

-   **Taxonomy** ‚Äî –≥—Ä—É–ø–ø–∞ —Ç–µ—Ä–º–∏–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∫–∞—Ç–µ–≥–æ—Ä–∏–∏", "—Ç–µ–≥–∏")
-   **Term** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è/—Ç–µ–≥
-   –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (parent-child)

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Taxonomy](../10-concepts/taxonomy.md)

### 4. Media Library

-   –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ API
-   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (thumbnails)
-   –°–≤—è–∑—å —Å entries —á–µ—Ä–µ–∑ `entry_media`

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Media](../10-concepts/media.md)

### 5. Search (Elasticsearch)

-   –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ entries
-   –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è
-   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Ñ–∞—Å–µ—Ç–æ–≤

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Search](../10-concepts/search.md)

### 6. Authentication (JWT)

-   JWT —Ç–æ–∫–µ–Ω—ã (HS256 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
-   Refresh tokens –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏
-   HTTP-only cookies –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Security](../40-architecture/security.md)

## üõ†Ô∏è API Endpoints

### Public API (`/api/*`)

-   `GET /api/entries` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π
-   `GET /api/entries/{slug}` ‚Äî –∑–∞–ø–∏—Å—å –ø–æ slug
-   `GET /api/terms` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤
-   `POST /api/auth/login` ‚Äî –≤—Ö–æ–¥
-   `POST /api/auth/refresh` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω

### Admin API (`/api/admin/*`)

-   `POST /api/admin/entries` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
-   `PUT /api/admin/entries/{id}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å
-   `DELETE /api/admin/entries/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å
-   `POST /api/admin/media` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–¥–∏–∞

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: Scribe (`docs/_generated/api-docs/index.html`)

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

-   `post_types` ‚Äî —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
-   `entries` ‚Äî –∑–∞–ø–∏—Å–∏
-   `entry_slugs` ‚Äî –∏—Å—Ç–æ—Ä–∏—è URL
-   `taxonomies` ‚Äî –≥—Ä—É–ø–ø—ã —Ç–µ—Ä–º–∏–Ω–æ–≤
-   `terms` ‚Äî —Ç–µ—Ä–º–∏–Ω—ã/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
-   `term_tree` ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤
-   `entry_term` ‚Äî —Å–≤—è–∑—å entries ‚Üî terms
-   `media` ‚Äî –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã
-   `media_variants` ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
-   `entry_media` ‚Äî —Å–≤—è–∑—å entries ‚Üî media
-   `options` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
-   `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
-   `redirects` ‚Äî 301-—Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
-   `audits` ‚Äî –ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [ERD](../30-reference/erd.md)

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (Policies)

-   `EntryPolicy` ‚Äî –ø—Ä–∞–≤–∞ –Ω–∞ entries (create, update, delete, publish)
-   `MediaPolicy` ‚Äî –ø—Ä–∞–≤–∞ –Ω–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã
-   `TermPolicy` ‚Äî –ø—Ä–∞–≤–∞ –Ω–∞ —Ç–µ—Ä–º–∏–Ω—ã
-   `RouteReservationPolicy` ‚Äî —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Permissions](../30-reference/permissions.md)

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤:

-   `config/stupidcms.php` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CMS
-   `config/filesystems.php` ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ–¥–∏–∞
-   `config/auth.php`, `config/jwt.php` ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
-   `config/cors.php` ‚Äî CORS –¥–ª—è SPA

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Config Reference](../30-reference/config.md)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
php artisan test

# –° coverage
php artisan test --coverage

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
php artisan test --filter=EntryTest
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º **Pest** –¥–ª—è —Ç–µ—Å—Ç–æ–≤. –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

-   `tests/Feature/*` ‚Äî HTTP/API —Ç–µ—Å—Ç—ã
-   `tests/Unit/*` ‚Äî –ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
composer install
cp .env.example .env
php artisan key:generate

# –ë–î
php artisan migrate --seed

# –ó–∞–ø—É—Å–∫
php artisan serve
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: [Installation](installation.md)

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

-   [–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö](../10-concepts/domain-model.md) ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ö–µ–º–∞
-   Scribe API Reference (`docs/_generated/api-docs/index.html`) ‚Äî –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ endpoints
-   [How-to Guides](../20-how-to/index.md) ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
-   [–ì–ª–æ—Å—Å–∞—Ä–∏–π](../70-glossary/index.md) ‚Äî —Ç–µ—Ä–º–∏–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞

## üí° –î–ª—è AI (Cursor)

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–¥–æ–º:

1. **–°–Ω–∞—á–∞–ª–∞ —á–∏—Ç–∞–π docs** ‚Äî `/docs/10-concepts/*` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–æ–º–µ–Ω–∞
2. **API** ‚Äî `docs/_generated/api-docs/index.html`
3. **–î–∞–Ω–Ω—ã–µ** ‚Äî `/docs/_generated/erd.svg` + –º–∏–≥—Ä–∞—Ü–∏–∏
4. **–°–ª–∞–≥–∏** ‚Äî `/docs/10-concepts/slugs.md` + `app/Support/Slug/*`
5. **–ü—Ä–∞–≤–∞** ‚Äî `/docs/_generated/permissions.md` + `app/Policies/*`

**–°—Ç–∏–ª—å –∫–æ–¥–∞**: Laravel 12, strict types, PHPStan max, Pest —Ç–µ—Å—Ç—ã.

---

**–¢–µ–ø–µ—Ä—å —Ç—ã –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —Å stupidCms! üéâ**
