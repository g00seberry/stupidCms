<?php

declare(strict_types=1);

/**
 * Конфигурация для системы динамических маршрутов (DB-driven routing).
 *
 * Определяет политику безопасности для динамических маршрутов:
 * - Запрещённые префиксы URI
 * - Настройки кэширования
 *
 * @package Config
 */
return [
    /*
    |--------------------------------------------------------------------------
    | Reserved Prefixes
    |--------------------------------------------------------------------------
    |
    | Массив запрещённых префиксов URI, которые нельзя использовать
    | в динамических маршрутах. Эти префиксы зарезервированы для системных маршрутов.
    |
    | Примеры:
    | - 'api' - защищает /api/* от перехвата
    | - 'admin' - защищает /admin/* от перехвата
    | - 'sanctum' - защищает /sanctum/* от перехвата
    |
    */
    'reserved_prefixes' => [
        'api',
        'admin',
        'sanctum',
        '_ignition', // Laravel Ignition (debug)
        'horizon', // Laravel Horizon (если используется)
        'telescope', // Laravel Telescope (если используется)
    ],

    /*
    |--------------------------------------------------------------------------
    | Cache TTL
    |--------------------------------------------------------------------------
    |
    | Время жизни кэша дерева маршрутов в секундах.
    | По умолчанию: 3600 секунд (1 час).
    |
    | Кэш автоматически инвалидируется при изменении route_nodes
    | через RouteNodeObserver.
    |
    */
    'cache_ttl' => env('DYNAMIC_ROUTES_CACHE_TTL', 3600),

    /*
    |--------------------------------------------------------------------------
    | Cache Key Prefix
    |--------------------------------------------------------------------------
    |
    | Префикс для ключей кэша дерева маршрутов.
    | Используется для версионирования и инвалидации кэша.
    |
    | Формат ключа: {prefix}:tree:v{version}
    |
    */
    'cache_key_prefix' => env('DYNAMIC_ROUTES_CACHE_PREFIX', 'dynamic_routes'),
];

