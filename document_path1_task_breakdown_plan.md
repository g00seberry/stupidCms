# –ü–ª–∞–Ω —Ä–∞–∑–±–∏–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏: –î–æ–∫—É–º–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å path-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π

> **–¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞:** –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏–∑ `document_path1.md` –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–ª–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
>
> **–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç  
> **–í–µ—Ä—Å–∏—è:** 1.0  
> **–î–∞—Ç–∞:** 2025-11-20

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞](#1-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–ª–æ–∫–æ–≤](#2-–∫–∞—Ä—Ç–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–±–ª–æ–∫–æ–≤)
3. [–ë–ª–æ–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏](#3-–±–ª–æ–∫–∏-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
4. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#4-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-—Ç–æ—á–∫–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
5. [–û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–æ–≤](#5-–æ—Ü–µ–Ω–∫–∞-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏-–±–ª–æ–∫–æ–≤)
6. [–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è](#6-–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è)
7. [–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è](#7-–≤–æ–ø—Ä–æ—Å—ã-–¥–ª—è-—É—Ç–æ—á–Ω–µ–Ω–∏—è)
8. [–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏](#8-—Å–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏)

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π v2.0

**–ö–ª—é—á–µ–≤–æ–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Blueprint –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ stupidCMS —á–µ—Ä–µ–∑ PostType

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

-   –í–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã `entries` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–∑ stupidCMS
-   Blueprint –∫—Ä–µ–ø–∏—Ç—Å—è –∫ PostType —á–µ—Ä–µ–∑ `post_types.blueprint_id` (nullable)
-   Entry –Ω–∞—Å–ª–µ–¥—É–µ—Ç blueprint: `$entry->postType->blueprint`

‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

-   –ú–∏–Ω–∏–º—É–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ
-   –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
-   –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º (—Å blueprint –∏ –±–µ–∑)
-   –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞

‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–ª–∞–Ω–µ:**

-   –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥–±–ª–æ–∫–∏: A.6.1, F.0, I.0 (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PostType)
-   –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥–±–ª–æ–∫–∏: A.6, F.4, G.1 (—Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ PostType)
-   –ù–æ–≤—ã–µ Edge Cases –¥–ª—è legacy Entry
-   –¢—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å: ~348 —á (–±—ã–ª–æ ~342 —á)

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: ‚úÖ 100%

–í—Å–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Ä–µ—à–µ–Ω—ã, –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.

---

## 1. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞

### 1.1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä              | –ó–Ω–∞—á–µ–Ω–∏–µ                                                                 |
| --------------------- | ------------------------------------------------------------------------ |
| **–ù–∞–∑–≤–∞–Ω–∏–µ**          | –î–æ–∫—É–º–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å path-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π v3                                |
| **–ò—Å—Ö–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç** | `document_path1.md` (6007 —Å—Ç—Ä–æ–∫)                                         |
| **–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã**       | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ stupidCMS                                                     |
| **–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è**     | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ–º blueprint-–æ–≤ —á–µ—Ä–µ–∑ PostType |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**       | PostType ‚Üí Blueprint ‚Üí Entry (blueprint –∫—Ä–µ–ø–∏—Ç—Å—è –∫ PostType)             |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å**         | –í—ã—Å–æ–∫–∞—è (—Ä–µ–∫—É—Ä—Å–∏—è, –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–∞—Å–∫–∞–¥—ã)                           |

### 1.2. –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   Path-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è JSON-–¥–∞–Ω–Ω—ã—Ö
-   –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ blueprint-–æ–≤ (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ, –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ, —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–µ)
-   –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π
-   –ö–∞—Å–∫–∞–¥–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
-   –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
-   –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

### 1.3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

-   **–°–£–ë–î:** MySQL 8.0.16+ / MariaDB 10.2.1+ / PostgreSQL 9.3+
-   **Laravel:** 12.x
-   **PHP:** 8.3+
-   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** CHECK constraints, –≤–∑–∞–∏–º–Ω—ã–µ FK, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### 1.4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å stupidCMS ‚úÖ

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```
PostType (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
   ‚Üì –¥–æ–±–∞–≤–∏—Ç—å blueprint_id (nullable)
   ‚Üì
Blueprint (–Ω–æ–≤–∞—è)
   ‚Üì 1:n
Path (–Ω–æ–≤–∞—è)
   ‚Üì
Entry (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
   ‚Üì –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ postType->blueprint
   ‚Üì
DocValue, DocRef (–Ω–æ–≤—ã–µ)
```

**–ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

-   ‚úÖ Blueprint –∫—Ä–µ–ø–∏—Ç—Å—è –∫ PostType —á–µ—Ä–µ–∑ `post_types.blueprint_id` (nullable)
-   ‚úÖ Entry –Ω–∞—Å–ª–µ–¥—É–µ—Ç blueprint —á–µ—Ä–µ–∑ —Å–≤—è–∑—å: `$entry->postType->blueprint`
-   ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è** —Ç–∞–±–ª–∏—Ü–∞ `entries` (–º–∏–Ω–∏–º—É–º –∏–∑–º–µ–Ω–µ–Ω–∏–π)
-   ‚úÖ –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º: Entry –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å blueprint –∏–ª–∏ –±–µ–∑ –Ω–µ–≥–æ
-   ‚úÖ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è Entry —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º blueprint
-   ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Entry –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

-   –ù–µ –ª–æ–º–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É stupidCMS
-   –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ blueprint (–ø–æ —Ç–∏–ø–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
-   –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —á–µ—Ä–µ–∑ PostType
-   –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

---

## 2. –ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–ª–æ–∫–æ–≤

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è     ‚îÇ
                    ‚îÇ   –∫ –°–£–ë–î         ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ                                  ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –°—Ö–µ–º–∞ –ë–î       ‚îÇ              ‚îÇ  –ó–∞—â–∏—Ç–∞         ‚îÇ
    ‚îÇ  (—Ç–∞–±–ª–∏—Ü—ã)      ‚îÇ              ‚îÇ  –æ—Ç —Ü–∏–∫–ª–æ–≤      ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ                                  ‚îÇ
            ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ú–æ–¥–µ–ª–∏ Laravel                ‚îÇ
    ‚îÇ  (Blueprint, Path, PostType)   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PostType ‚Üê Blueprint       ‚îÇ
    ‚îÇ  (post_types.blueprint_id)             ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (BlueprintEmbed)          ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è)          ‚îÇ
    ‚îÇ  + PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤                ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è                     ‚îÇ
    ‚îÇ  (BlueprintStructureChanged)           ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è Entry —á–µ—Ä–µ–∑ PostType       ‚îÇ
    ‚îÇ  (doc_values, doc_refs)                ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Query Builder (wherePath)             ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  API (CRUD, embeds, paths)             ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ                          ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. –ë–ª–æ–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ë–ª–æ–∫ A: –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü, –∏–Ω–¥–µ–∫—Å—ã, constraints, FK.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### A.1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –°–£–ë–î

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.0
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   MySQL 8.0.16+ (–Ω–∞—Ç–∏–≤–Ω—ã–µ CHECK constraints)
    -   MariaDB 10.2.1+ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—ë)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ MySQL 8.0.16+, –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π
-   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢—Ä–∏–≥–≥–µ—Ä—ã –Ω–µ –Ω—É–∂–Ω—ã

#### A.2. –¢–∞–±–ª–∏—Ü–∞ `blueprints`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (id, name, code, description)
    -   –ë–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ full/component
    -   –ë–µ–∑ SoftDeletes (–∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.1
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ë–µ–∑ SoftDeletes, —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ö–µ–º–∞

#### A.3. –¢–∞–±–ª–∏—Ü–∞ `paths`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (id, blueprint_id, source_blueprint_id, blueprint_embed_id, parent_id, name, full_path, data_type, cardinality, is_required, is_indexed, is_readonly, sort_order)
    -   **validation_rules JSON** (–ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π)
    -   CHECK constraint –¥–ª—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞ readonly
    -   –ò–Ω–¥–µ–∫—Å—ã
    -   array_index –¥–ª—è cardinality='many'
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.1, A.2
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ validation_rules, –±–µ–∑ display_options

#### A.4. –¢–∞–±–ª–∏—Ü–∞ `blueprint_embeds`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (id, blueprint_id, embedded_blueprint_id, host_path_id)
    -   UNIQUE constraint (blueprint_id, embedded_blueprint_id, host_path_id)
    -   –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–±—Ö–æ–¥–∞ –≥—Ä–∞—Ñ–∞
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2, A.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ù—É–∂–Ω—ã –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (label, description)?

#### A.5. –ü–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è (–≤–∑–∞–∏–º–Ω—ã–µ FK)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.4 + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è stupidCMS
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   **5 –º–∏–≥—Ä–∞—Ü–∏–π** –≤ —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    -   **–ú–∏–≥—Ä–∞—Ü–∏—è 1:** blueprints
    -   **–ú–∏–≥—Ä–∞—Ü–∏—è 2:** paths –ë–ï–ó FK blueprint_embed_id
    -   **–ú–∏–≥—Ä–∞—Ü–∏—è 3:** blueprint_embeds
    -   **–ú–∏–≥—Ä–∞—Ü–∏—è 4:** FK paths.blueprint_embed_id
    -   **–ú–∏–≥—Ä–∞—Ü–∏—è 5:** ADD post_types.blueprint_id + FK
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–æ—à–∏–±–∫–∞ = SQL error)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2, A.3, A.4, —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è post_types
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è post_types –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è blueprints
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   Rollback-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–µ?

#### A.6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ–π `entries`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ stupidCMS
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   **–ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞** `entries` –∏–∑ stupidCMS
    -   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (id, post_type_id, title, slug, status, published_at, author_id, data_json, seo_json, ...)
    -   Blueprint –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ PostType: `Entry ‚Üí PostType ‚Üí Blueprint`
    -   **–ë–ï–ó –ø—Ä—è–º–æ–π —Å–≤—è–∑–∏** `entries.blueprint_id`
    -   SoftDeletes (—É–∂–µ –µ—Å—Ç—å)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–∫–ª—é—á–µ–≤–æ–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2, —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ entries
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ PostType (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
-   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Entry –ø–æ–ª—É—á–∞–µ—Ç blueprint —á–µ—Ä–µ–∑ —Å–≤—è–∑—å: `$entry->postType->blueprint`

#### A.6.1. –ú–∏–≥—Ä–∞—Ü–∏—è `post_types.blueprint_id`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –ù–æ–≤–æ–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `blueprint_id BIGINT UNSIGNED NULL` –≤ `post_types`
    -   FK: `post_types.blueprint_id ‚Üí blueprints.id` ON DELETE RESTRICT
    -   –ò–Ω–¥–µ–∫—Å: `idx_post_types_blueprint (blueprint_id)`
    -   **Nullable:** –¥–∞ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ blueprint)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2, —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ post_types
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏

#### A.7. –¢–∞–±–ª–∏—Ü–∞ `doc_values`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.5.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (id, entry_id, path_id, array_index, value_string, value_int, value_float, value_bool, value_date, value_datetime, value_text, value_json)
    -   UNIQUE (entry_id, path_id, array_index)
    -   –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3, A.6
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ path_id?
    -   –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π?

#### A.8. –¢–∞–±–ª–∏—Ü–∞ `doc_refs`

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2.5.3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (id, entry_id, path_id, array_index, target_entry_id)
    -   UNIQUE (entry_id, path_id, array_index)
    -   ON DELETE RESTRICT –¥–ª—è target_entry_id
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3, A.6
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   ON DELETE CASCADE vs RESTRICT vs SET NULL?
    -   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ (–Ω–µ Entry)?

---

### –ë–ª–æ–∫ B: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏ –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–û–ø–∏—Å–∞–Ω–∏–µ:** –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É blueprint-–∞–º–∏, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### B.1. –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 3.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ `blueprint_id -> embedded_blueprint_id`
    -   –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ host_path
    -   –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (–Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –≤ UI?
    -   –õ–∏–º–∏—Ç –≥–ª—É–±–∏–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏?

#### B.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 3.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `ensureNoCyclicDependency(parent, embedded)`
    -   BFS/DFS –æ–±—Ö–æ–¥ –≥—Ä–∞—Ñ–∞
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º BlueprintEmbed
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–±–µ–∑ —ç—Ç–æ–≥–æ ‚Äî data corruption)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** B.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è?
    -   –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è embed (reverting)?

#### B.3. Closure Table (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 9
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –¢–∞–±–ª–∏—Ü–∞ `blueprint_deps` (ancestor_id, descendant_id, depth)
    -   –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –≥—Ä–∞—Ñ–æ–≤ (100+ blueprint)
    -   –ò–∑–±–µ–∂–∞–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** B.1, B.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü–æ—Ä–æ–≥ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è (—Å–∫–æ–ª—å–∫–æ blueprint)?
    -   –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ embeds?

---

### –ë–ª–æ–∫ C: –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ blueprint.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### C.1. –ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 4.2.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `materializeEmbeddedBlueprint(BlueprintEmbed $embed)`
    -   **–°–ò–ù–•–†–û–ù–ù–ê–Ø** –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–≤ —Ä–∞–º–∫–∞—Ö HTTP-–∑–∞–ø—Ä–æ—Å–∞)
    -   PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ full_path
    -   –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∫–æ–ø–∏–π (`WHERE blueprint_embed_id = $embed->id`)
    -   –í—ã–∑–æ–≤ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤—â–∏–∫–∞
    -   DB::transaction –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3, A.4, B.2
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è, –±–µ–∑ queue
-   **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –¢–∞–π–º–∞—É—Ç—ã —É–≤–µ–ª–∏—á–∏—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö blueprint

#### C.2. PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 4.2.3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `validateNoPathConflictsBeforeMaterialization()`
    -   –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Å–±–æ—Ä –≤—Å–µ—Ö –±—É–¥—É—â–∏—Ö full_path
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ paths
    -   –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
    -   **–ë–ï–ó –∞–≤—Ç–æ–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è** (—è–≤–Ω–∞—è –æ—à–∏–±–∫–∞, —Ä—É—á–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ (–±–µ–∑ —ç—Ç–æ–≥–æ ‚Äî SQL errors)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** C.1
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –¢–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏
-   **UI:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø—É—Ç–µ–π —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏

#### C.3. –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∫–æ–ø–∏—Ä–æ–≤—â–∏–∫

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 4.2.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `copyBlueprintRecursive(...)`
    -   –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (source_blueprint_id IS NULL)
    -   –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö embeds
    -   **MAX_EMBED_DEPTH = 5** (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–µ–∫–∞)
    -   –ö–∞—Ä—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è id (source -> copy)
    -   –í—ã—á–∏—Å–ª–µ–Ω–∏–µ full_path –∏ parent_id
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** C.1, C.2
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –õ–∏–º–∏—Ç –≥–ª—É–±–∏–Ω—ã 5 —É—Ä–æ–≤–Ω–µ–π
-   **Edge case:** –ë—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –≥–ª—É–±–∏–Ω—ã

#### C.4. –ü—Ä–∏–º–µ—Ä—ã –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª—ã 4.3, 4.4
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ü—Ä–∏–º–µ—Ä 1: –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–µ (D ‚Üí C ‚Üí A ‚Üí B)
    -   –ü—Ä–∏–º–µ—Ä 2: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ (Address –≤ Company –¥–≤–∞–∂–¥—ã)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** C.1, C.2, C.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ù—É–∂–Ω—ã –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤ —Ç–µ—Å—Ç–∞—Ö?

---

### –ë–ª–æ–∫ D: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ blueprint.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### D.1. –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 5.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –î–æ–±–∞–≤–ª–µ–Ω–∏–µ path
    -   –£–¥–∞–ª–µ–Ω–∏–µ path
    -   –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ (name, data_type, cardinality)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ data_type?
    -   –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö Entry?

#### D.2. –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º—ã—Ö blueprint

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 5.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `getAllDependentBlueprintIds(rootId)`
    -   –û–±—Ö–æ–¥ –≥—Ä–∞—Ñ–∞ –≤–≤–µ—Ä—Ö (–∫—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ)
    -   –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** B.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤?
    -   –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –≥—Ä–∞—Ñ–æ–≤ (closure table)?

#### D.3. –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 5.3.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `BlueprintStructureChanged` event
    -   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: blueprint, processedBlueprints[]
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** D.1, D.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (queue)?
    -   –î–µ–±–∞—É–Ω—Å –ø—Ä–∏ batch-–æ–ø–µ—Ä–∞—Ü–∏—è—Ö?

#### D.4. Listener —Å –∫–∞—Å–∫–∞–¥–∞–º–∏

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 5.3.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `RematerializeEmbeds` listener
    -   –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è (processedBlueprints)
    -   –†–µ–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö embeds –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ blueprint
    -   –ö–∞—Å–∫–∞–¥–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
    -   –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è Entry
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** D.2, D.3, C.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ç–∫–∞—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ü–µ–ø–æ—á–∫–∏?
    -   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏?

#### D.5. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 5.3.4
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ü–æ–ª–µ `structure_version` –≤ blueprints
    -   –ü–æ–ª–µ `indexed_structure_version` –≤ entries
    -   –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö Entry
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2, A.6
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö?
    -   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ UI?

---

### –ë–ª–æ–∫ E: –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø–æ–ª—è–º–∏.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### E.1. –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 6.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (source_blueprint_id IS NULL)
    -   –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ embeds
    -   –ò–∑–º–µ–Ω–µ–Ω–∏–µ sort_order —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   Drag&drop –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ UI?

#### E.2. –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 6.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (is_readonly = 1)
    -   –£–¥–∞–ª–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –Ω–∞–ø—Ä—è–º—É—é
    -   –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞/Policy
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ö–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å readonly-–ø–æ–ª—è –≤ UI?
    -   –ü–æ–¥—Å–∫–∞–∑–∫–∏ (tooltip) –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ?

#### E.3. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ host blueprint

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 6.3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
    -   –ó–∞–ø—Ä–æ—Å `wherePath('A.fa1', ...)` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.7, A.8
-   **–í–æ–ø—Ä–æ—Å—ã:** –ù–µ—Ç

---

### –ë–ª–æ–∫ F: Laravel-–º–æ–¥–µ–ª–∏ –∏ —Å–≤—è–∑–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** Eloquent-–º–æ–¥–µ–ª–∏, —Å–≤—è–∑–∏, –∑–∞—â–∏—Ç–∞ –ø–æ–ª–µ–π.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### F.1. –ú–æ–¥–µ–ª—å Blueprint

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   $fillable: name, code, description
    -   –°–≤—è–∑–∏: paths(), embeds(), embeddedIn()
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   Scopes –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏?
    -   –ú–µ—Ç–æ–¥—ã-—Ö–µ–ª–ø–µ—Ä—ã (hasEmbed, isEmbeddedIn)?

#### F.2. –ú–æ–¥–µ–ª—å Path

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   $fillable: blueprint_id, parent_id, name, data_type, cardinality, is_required, is_indexed, sort_order
    -   $guarded: source_blueprint_id, blueprint_embed_id, is_readonly, full_path
    -   –°–≤—è–∑–∏: blueprint(), parent(), children(), sourceBlueprint(), blueprintEmbed()
    -   –ú–µ—Ç–æ–¥—ã: isOwn(), isCopied(), computeFullPath()
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç full_path –≤ Observer?
    -   –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ paths?

#### F.3. –ú–æ–¥–µ–ª—å BlueprintEmbed

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   $fillable: blueprint_id, embedded_blueprint_id, host_path_id
    -   –°–≤—è–∑–∏: blueprint(), embeddedBlueprint(), hostPath()
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   Observer –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏?

#### F.0. –ú–æ–¥–µ–ª—å PostType (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –º–æ–¥–µ–ª—å + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   **–î–æ–±–∞–≤–∏—Ç—å:** `blueprint_id` –≤ $fillable
    -   **–î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å:** `blueprint()` ‚Üí belongsTo(Blueprint::class)
    -   –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–≤—è–∑–∏: entries()
    -   Casts: options_json => AsPostTypeOptions
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.6.1, F.1
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–æ–¥–µ–ª–∏

#### F.4. –ú–æ–¥–µ–ª—å Entry (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –º–æ–¥–µ–ª—å + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   **–ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π** –≤ $fillable (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
    -   **–î–æ–±–∞–≤–∏—Ç—å trait:** HasDocumentData (–¥–ª—è wherePath)
    -   **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:** `blueprint()` ‚Üí `$this->postType?->blueprint`
    -   –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–≤—è–∑–∏: postType(), author(), terms()
    -   Casts: data_json => array, seo_json => array, published_at => datetime
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.6, F.0, F.6
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ trait

#### F.5. –ú–æ–¥–µ–ª–∏ DocValue, DocRef

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.5
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   DocValue: entry*id, path_id, array_index, value*\*
    -   DocRef: entry_id, path_id, array_index, target_entry_id
    -   –°–≤—è–∑–∏: entry(), path(), targetEntry()
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.7, A.8
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ù—É–∂–Ω—ã –ª–∏ –º–æ–¥–µ–ª–∏ –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Query Builder?

#### F.6. Trait HasDocumentData

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.6
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   wherePath($path, $operator, $value)
    -   wherePathIn($path, $values)
    -   whereRef($path, $entryId)
    -   orderByPath($path, $direction)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.7, A.8, F.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (OR, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ WHERE)?
    -   –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JOIN-–æ–≤?

---

### –ë–ª–æ–∫ G: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ—Ü–µ—Å—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ data_json –≤ doc_values/doc_refs.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### G.1. –°–µ—Ä–≤–∏—Å EntryIndexer

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.7
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `index(Entry $entry)`
    -   **–ü–æ–ª—É—á–µ–Ω–∏–µ blueprint:** —á–µ—Ä–µ–∑ `$entry->postType->blueprint`
    -   **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –µ—Å–ª–∏ blueprint_id = NULL, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
    -   –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö doc_values/doc_refs
    -   –û–±—Ö–æ–¥ paths blueprint'–∞
    -   –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ data_json
    -   –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ doc_values/doc_refs
    -   –û–±—Ä–∞–±–æ—Ç–∫–∞ cardinality='many' (array_index)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.7, A.8, F.4, F.0
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è Entry —Å blueprint —á–µ—Ä–µ–∑ PostType
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ß–∞—Å—Ç–∏—á–Ω–∞—è —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ paths)?
    -   Batch-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è (1000+ entries)?

#### G.2. Job ReindexBlueprintEntries

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.8
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö Entry blueprint'–∞
    -   –ë–∞—Ç—á–∏–Ω–≥ (–ø–æ 100 entries)
    -   –ü—Ä–æ–≥—Ä–µ—Å—Å –∏ –æ—à–∏–±–∫–∏
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** G.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç queue?
    -   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏?

#### G.3. Observer –¥–ª—è Entry

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.9
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∏ saved()
    -   –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –ø—Ä–∏ deleted()
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** G.1, F.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è?
    -   –î–µ–±–∞—É–Ω—Å –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π?

---

### –ë–ª–æ–∫ H: –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### H.1. BlueprintStructureService

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.10
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `createBlueprint($data)`
    -   `createPath(Blueprint $bp, $data)`
    -   `updatePath(Path $path, $data)`
    -   `deletePath(Path $path)` (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π readonly)
    -   `createEmbed(Blueprint $host, Blueprint $embedded, ?Path $hostPath)`
    -   `deleteEmbed(BlueprintEmbed $embed)` (—Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–æ–ø–∏–π)
    -   `materializeEmbeddedBlueprint(BlueprintEmbed $embed)` (–∏–∑ –±–ª–æ–∫–∞ C)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** B.2, C.1, C.2, C.3, D.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤?
    -   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?

#### H.2. CyclicDependencyValidator

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.11
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `ensureNoCyclicDependency(Blueprint $parent, Blueprint $embedded)`
    -   `hasPathTo(int $fromId, int $targetId): bool`
    -   BFS/DFS –æ–±—Ö–æ–¥ –≥—Ä–∞—Ñ–∞
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** B.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞?
    -   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ closure table?

#### H.3. PathConflictValidator

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 7.12 (—á–∞—Å—Ç—å C.2)
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `validateNoPathConflictsBeforeMaterialization(...)`
    -   `collectFuturePathsRecursive(...)` (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–±–æ—Ä)
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ paths
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** C.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤?

---

### –ë–ª–æ–∫ I: API –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:** REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è blueprint, paths, embeds.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### I.0. PostTypeController (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   **–î–æ–±–∞–≤–∏—Ç—å:** –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `blueprint_id` –≤ PUT –∑–∞–ø—Ä–æ—Å–µ
    -   **–î–æ–±–∞–≤–∏—Ç—å:** eager loading blueprint –≤ —Ä–µ—Å—É—Ä—Å–∞—Ö
    -   **–î–æ–±–∞–≤–∏—Ç—å:** –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è blueprint_id
    -   –¢—Ä–∏–≥–≥–µ—Ä —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ blueprint
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** F.0, F.1, G.2
-   **–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ API

#### I.1. BlueprintController

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 10 (–∫–æ–º–∞–Ω–¥—ã)
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `GET /api/blueprints` (—Å–ø–∏—Å–æ–∫)
    -   `POST /api/blueprints` (—Å–æ–∑–¥–∞–Ω–∏–µ)
    -   `GET /api/blueprints/{id}` (–ø—Ä–æ—Å–º–æ—Ç—Ä)
    -   `PUT /api/blueprints/{id}` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
    -   `DELETE /api/blueprints/{id}` (—É–¥–∞–ª–µ–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
    -   **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å:** —Å–ø–∏—Å–æ–∫ PostType, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö blueprint
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** F.1, H.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞?
    -   Scribe-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è?

#### I.2. PathController

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 10
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `GET /api/blueprints/{id}/paths` (–¥–µ—Ä–µ–≤–æ paths —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏)
    -   `POST /api/blueprints/{id}/paths` (—Å–æ–∑–¥–∞–Ω–∏–µ)
    -   `PUT /api/paths/{id}` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π readonly)
    -   `DELETE /api/paths/{id}` (—É–¥–∞–ª–µ–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π readonly)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** F.2, H.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –æ—Ç–≤–µ—Ç–µ?
    -   –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å source_blueprint_id?

#### I.3. BlueprintEmbedController

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 10
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `GET /api/blueprints/{id}/embeds` (—Å–ø–∏—Å–æ–∫ embeds)
    -   `POST /api/blueprints/{id}/embeds` (—Å–æ–∑–¥–∞–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ü–∏–∫–ª–æ–≤)
    -   `DELETE /api/embeds/{id}` (—É–¥–∞–ª–µ–Ω–∏–µ —Å —Ä–µ–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** F.3, H.1, H.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è?
    -   –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ UI?

#### I.4. EntryController

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 10
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   `GET /api/entries` (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ wherePath)
    -   `POST /api/entries` (—Å–æ–∑–¥–∞–Ω–∏–µ + –∞–≤—Ç–æ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è)
    -   `PUT /api/entries/{id}` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ + —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è)
    -   `DELETE /api/entries/{id}` (—É–¥–∞–ª–µ–Ω–∏–µ + –æ—á–∏—Å—Ç–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** F.4, G.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –í–∞–ª–∏–¥–∞—Ü–∏—è data_json –ø–æ paths?
    -   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ draft/published?

#### I.5. –†–µ—Å—É—Ä—Å—ã (API Resources)

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 10
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   BlueprintResource (—Å embeds, paths count)
    -   PathResource (—Å source, parent, children)
    -   BlueprintEmbedResource (—Å relations)
    -   EntryResource (—Å –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—É–¥–æ–±—Å—Ç–≤–æ)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** I.1, I.2, I.3, I.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   Eager loading –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?

---

### –ë–ª–æ–∫ J: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–û–ø–∏—Å–∞–Ω–∏–µ:** Unit, Feature, Integration, Performance —Ç–µ—Å—Ç—ã.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### J.1. Unit: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ self-embed (A ‚Üí A)
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä—è–º–æ–≥–æ —Ü–∏–∫–ª–∞ (A ‚Üí B ‚Üí A)
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (A ‚Üí B ‚Üí C ‚Üí A)
    -   –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –±–µ–∑ —Ü–∏–∫–ª–∞
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** H.2
-   **–í–æ–ø—Ä–æ—Å—ã:** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –∫–µ–π—Å–æ–≤?

#### J.2. Unit: –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ü—Ä–æ—Å—Ç–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (A ‚Üí B)
    -   –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ (Address –≤ Company –¥–≤–∞–∂–¥—ã)
    -   –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–µ (D ‚Üí C ‚Üí A ‚Üí B)
    -   –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ (author.contacts ‚Üê ContactInfo)
    -   PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ full_path
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** C.1, C.2, C.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   Edge cases (–ø—É—Å—Ç–æ–π blueprint, –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å)?

#### J.3. Unit: –ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ò–∑–º–µ–Ω–µ–Ω–∏–µ A ‚Üí —Ä–µ–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è B
    -   –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ (Geo ‚Üí Address ‚Üí Company ‚Üí Department)
    -   –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è (processedBlueprints)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** D.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è?

#### J.4. Feature: CRUD Blueprint

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.4
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°–æ–∑–¥–∞–Ω–∏–µ blueprint
    -   –î–æ–±–∞–≤–ª–µ–Ω–∏–µ paths
    -   –£–¥–∞–ª–µ–Ω–∏–µ blueprint (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** I.1, I.2
-   **–í–æ–ø—Ä–æ—Å—ã:** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –∫–µ–π—Å–æ–≤?

#### J.5. Feature: CRUD Embeds

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.5
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°–æ–∑–¥–∞–Ω–∏–µ embed —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
    -   –°–æ–∑–¥–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ embed
    -   –£–¥–∞–ª–µ–Ω–∏–µ embed —Å –æ—á–∏—Å—Ç–∫–æ–π –∫–æ–ø–∏–π
    -   –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–∏–∫–ª–∞ (403)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** I.3
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –¢–∞–π–º–∏–Ω–≥–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏?

#### J.6. Feature: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è Entry

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.6
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°–æ–∑–¥–∞–Ω–∏–µ Entry ‚Üí –∞–≤—Ç–æ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
    -   –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Entry ‚Üí —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
    -   –£–¥–∞–ª–µ–Ω–∏–µ Entry ‚Üí –æ—á–∏—Å—Ç–∫–∞ doc_values/doc_refs
    -   –ó–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ wherePath
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** G.1, F.6
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ú–∞—Å—Å–æ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è?

#### J.7. Integration: Full Flow

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.7
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ blueprint (A, B, C)
    -   –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (C ‚Üí B, B ‚Üí A)
    -   –°–æ–∑–¥–∞–Ω–∏–µ Entry blueprint A
    -   –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã C
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ A, B
    -   –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Entry
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –±–ª–æ–∫–∏
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –°—Ü–µ–Ω–∞—Ä–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏?

#### J.8. Performance: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 12.8
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   Blueprint —Å 1000+ paths
    -   –ì—Ä–∞—Ñ –∏–∑ 50+ blueprint
    -   10000+ Entry
    -   –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    -   –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
    -   –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í—Å–µ
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (< 1s –¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, < 100ms –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤)?

---

### –ë–ª–æ–∫ K: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, closure table.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### K.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Blueprint

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 9
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   Cache::remember –¥–ª—è paths
    -   Cache::remember –¥–ª—è –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    -   –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** F.1, F.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   TTL –∫—ç—à–∞?
    -   Redis vs —Ñ–∞–π–ª–æ–≤—ã–π –∫—ç—à?

#### K.2. –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ doc_values

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 9
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   PARTITION BY HASH(path_id) –∏–ª–∏ RANGE(entry_id)
    -   16-32 –ø–∞—Ä—Ç–∏—Ü–∏–π
    -   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.7
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?
    -   –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö?

#### K.3. –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è JOIN-–æ–≤

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 9
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   Composite indexes –¥–ª—è wherePath
    -   Covering indexes –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    -   –ê–Ω–∞–ª–∏–∑ EXPLAIN
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.7, F.6
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ slow queries?

#### K.4. Closure Table –¥–ª—è –≥—Ä–∞—Ñ–∞

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 9
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –¢–∞–±–ª–∏—Ü–∞ blueprint_deps
    -   –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ CRUD embeds
    -   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ getAllDependentBlueprintIds
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (>100 blueprint)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** B.3, D.2
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ü–æ—Ä–æ–≥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏?

---

### –ë–ª–æ–∫ L: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ—à–∏–±–æ–∫.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### L.1. –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 13.1
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –í—Ä–µ–º—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (Blueprint::materialize.duration)
    -   –í—Ä–µ–º—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (Entry::index.duration)
    -   –í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–æ–≤ (Entry::wherePath.duration)
    -   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ doc_values/doc_refs
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í—Å–µ
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (Telescope, New Relic, Prometheus)?

#### L.2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 8
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –î–æ–º–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (CyclicDependencyException, PathConflictException)
    -   –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    -   Rollback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –í–∞–∂–Ω–æ
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–æ–≤?

#### L.3. –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 8
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã blueprint
    -   –ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–π
    -   –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π (user_id)
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∞—É–¥–∏—Ç)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** A.2, F.1
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ–π audits?

---

### –ë–ª–æ–∫ M: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:** Scribe API docs, –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–ü–æ–¥–±–ª–æ–∫–∏:**

#### M.1. Scribe API Documentation

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 13.2
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
    -   –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
    -   –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—É–¥–æ–±—Å—Ç–≤–æ)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** I.1, I.2, I.3, I.4
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ —Ç–µ—Å—Ç–æ–≤?

#### M.2. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 10, 11
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   –°—Ü–µ–Ω–∞—Ä–∏–∏ (Person + Address, Article + SEO)
    -   –ö–æ–¥-—Å–Ω–∏–ø–ø–µ—Ç—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–¥–∞—á
    -   Troubleshooting guide
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (onboarding)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í—Å–µ
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –í –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (README, wiki, Notion)?

#### M.3. –î–∏–∞–≥—Ä–∞–º–º—ã

-   **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–∞–∑–¥–µ–ª 2, 3
-   **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
    -   ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –ë–î
    -   –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π blueprint
    -   –ë–ª–æ–∫-—Å—Ö–µ–º—ã –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–∞—Å–∫–∞–¥–æ–≤
-   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í—Å–µ
-   **–í–æ–ø—Ä–æ—Å—ã:**
    -   –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (PlantUML, Mermaid, draw.io)?

---

## 4. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 4.1. –¢–æ–ø-7 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤ (–∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 8.0 —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)

| ‚Ññ   | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ú–æ–º–µ–Ω—Ç                         | –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–µ                                                     | –ë–ª–æ–∫–∏ |
| --- | ----------- | ------------------------------ | -------------------------------------------------------------------------- | ----- |
| 1   | üî¥          | **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** | –ì–ª—É–±–æ–∫–∏–µ –ø—É—Ç–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç                                                  | C.3   |
| 2   | üî¥          | **PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**       | SQL errors –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π                                      | C.2   |
| 3   | üî¥          | **–ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**          | –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å                                            | D.4   |
| 4   | üî¥          | **–ó–∞—â–∏—Ç–∞ –ø–æ–ª–µ–π**               | source_blueprint_id, blueprint_embed_id, is_readonly, full_path –≤ $guarded | F.2   |
| 5   | üî¥          | **UNIQUE constraint**          | –ù–µ–ª—å–∑—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—å paths —Å `full_path = ''` –∏–ª–∏ `NULL`                       | C.3   |
| 6   | üî¥          | **–í–∑–∞–∏–º–Ω—ã–µ FK**                | 4 –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏                                    | A.5   |
| 7   | üî¥          | **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ë–î**            | CHECK constraints (MySQL 8.0.16+) –∏–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã                             | A.1   |

### 4.2. Edge Cases

| –°—Ü–µ–Ω–∞—Ä–∏–π                                   | –û–ø–∏—Å–∞–Ω–∏–µ                                         | –ë–ª–æ–∫  | –†–µ—à–µ–Ω–∏–µ                                                       |
| ------------------------------------------ | ------------------------------------------------ | ----- | ------------------------------------------------------------- |
| –ü—É—Å—Ç–æ–π blueprint                           | Blueprint –±–µ–∑ paths                              | C.1   | ‚úÖ –î–æ–ø—É—Å—Ç–∏—Ç—å, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ø–∏–π                 |
| –û—á–µ–Ω—å –≥–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å                 | 10+ —É—Ä–æ–≤–Ω–µ–π –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è                          | C.3   | ‚úÖ –õ–∏–º–∏—Ç –≥–ª—É–±–∏–Ω—ã (MAX_EMBED_DEPTH = 5)                        |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º—ë–Ω                              | –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ + —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º | C.2   | ‚úÖ PRE-CHECK, —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–∞—è –æ—à–∏–±–∫–∞, –±–µ–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è |
| –£–¥–∞–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ blueprint           | Blueprint A –≤—Å—Ç—Ä–æ–µ–Ω –≤ B, –ø—ã—Ç–∞–µ–º—Å—è —É–¥–∞–ª–∏—Ç—å A      | I.1   | ‚úÖ ON DELETE RESTRICT + –¥–æ–º–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è                    |
| –û—à–∏–±–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –∫–∞—Å–∫–∞–¥–∞                  | Geo ‚Üí Address ‚Üí Company, –æ—à–∏–±–∫–∞ –Ω–∞ Company       | D.4   | ‚úÖ Rollback –≤—Å–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ                      |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏          | –î–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∞–≤—è—Ç –æ–¥–∏–Ω blueprint           | H.1   | ‚úÖ –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (updated_at)                    |
| –¶–∏—Ä–∫—É–ª—è—Ä–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ 10 blueprint | A ‚Üí B ‚Üí ... ‚Üí J ‚Üí A                              | B.2   | ‚úÖ BFS –æ–±—Ö–æ–¥, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ 1000 —É–∑–ª–æ–≤                          |
| Entry –±–µ–∑ blueprint (legacy)               | PostType.blueprint_id = NULL                     | G.1   | ‚úÖ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, data_json —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ     |
| –°–º–µ–Ω–∞ blueprint —É PostType                 | PostType –º–µ–Ω—è–µ—Ç blueprint_id –Ω–∞ –¥—Ä—É–≥–æ–π           | G.1,2 | ‚úÖ –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö Entry —ç—Ç–æ–≥–æ PostType                     |
| –£–¥–∞–ª–µ–Ω–∏–µ PostType —Å blueprint              | PostType —É–¥–∞–ª—è–µ—Ç—Å—è, blueprint_id ‚Üí NULL          | A.6.1 | ‚úÖ ON DELETE RESTRICT, —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–≤—è–∑–∫–∏ blueprint              |

---

## 5. –û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–æ–≤

### 5.1. –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞          | –û–ø–∏—Å–∞–Ω–∏–µ                           | –î–∏–∞–ø–∞–∑–æ–Ω                                   |
| ---------------- | ---------------------------------- | ------------------------------------------ |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å**    | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏   | –ù–∏–∑–∫–∞—è / –°—Ä–µ–¥–Ω—è—è / –í—ã—Å–æ–∫–∞—è / –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è |
| **–¢—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å** | –û—Ü–µ–Ω–∫–∞ –≤ person-hours              | 1-160 —á–∞—Å–æ–≤                                |
| **–†–∏—Å–∫**         | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | –ù–∏–∑–∫–∏–π / –°—Ä–µ–¥–Ω–∏–π / –í—ã—Å–æ–∫–∏–π                 |
| **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**  | –í–∞–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã        | üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ / üü° –í–∞–∂–Ω–æ / üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ    |

### 5.2. –¢–∞–±–ª–∏—Ü–∞ –æ—Ü–µ–Ω–∫–∏

| –ë–ª–æ–∫      | –ù–∞–∑–≤–∞–Ω–∏–µ                     | –°–ª–æ–∂–Ω–æ—Å—Ç—å     | –¢—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å | –†–∏—Å–∫    | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
| --------- | ---------------------------- | ------------- | ------------ | ------- | ----------- |
| **A**     | –°—Ö–µ–º–∞ –ë–î                     | –°—Ä–µ–¥–Ω—è—è       | 18 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| A.1       | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –°–£–ë–î            | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| A.2       | –¢–∞–±–ª–∏—Ü–∞ blueprints           | –ù–∏–∑–∫–∞—è        | 1 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| A.3       | –¢–∞–±–ª–∏—Ü–∞ paths                | –í—ã—Å–æ–∫–∞—è       | 4 —á          | –í—ã—Å–æ–∫–∏–π | üî¥          |
| A.4       | –¢–∞–±–ª–∏—Ü–∞ blueprint_embeds     | –°—Ä–µ–¥–Ω—è—è       | 2 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| A.5       | –ü–æ—Ä—è–¥–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π (5 —Ñ–∞–π–ª–æ–≤)  | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –í—ã—Å–æ–∫–∏–π | üî¥          |
| A.6       | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å entries         | –ù–∏–∑–∫–∞—è        | 1 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| A.6.1     | post_types.blueprint_id      | –ù–∏–∑–∫–∞—è        | 1 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| A.7       | –¢–∞–±–ª–∏—Ü–∞ doc_values           | –°—Ä–µ–¥–Ω—è—è       | 2 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| A.8       | –¢–∞–±–ª–∏—Ü–∞ doc_refs             | –°—Ä–µ–¥–Ω—è—è       | 1 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| **B**     | –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏ –≥—Ä–∞—Ñ           | –°—Ä–µ–¥–Ω—è—è       | 12 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| B.1       | –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π            | –°—Ä–µ–¥–Ω—è—è       | 2 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| B.2       | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤              | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –í—ã—Å–æ–∫–∏–π | üî¥          |
| B.3       | Closure Table                | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –°—Ä–µ–¥–Ω–∏–π | üü¢          |
| **C**     | –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è               | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 40 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| C.1       | –ê–ª–≥–æ—Ä–∏—Ç–º (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)   | –í—ã—Å–æ–∫–∞—è       | 8 —á          | –í—ã—Å–æ–∫–∏–π | üî¥          |
| C.2       | PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤         | –í—ã—Å–æ–∫–∞—è       | 12 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| C.3       | –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∫–æ–ø–∏—Ä–æ–≤—â–∏–∫       | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 16 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| C.4       | –ü—Ä–∏–º–µ—Ä—ã –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏       | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| **D**     | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π          | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 32 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| D.1       | –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π               | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| D.2       | –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º—ã—Ö               | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| D.3       | –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è             | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| D.4       | Listener —Å –∫–∞—Å–∫–∞–¥–∞–º–∏         | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 20 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| D.5       | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã    | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| **E**     | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ | –ù–∏–∑–∫–∞—è        | 6 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| E.1       | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏         | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| E.2       | –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏         | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| E.3       | –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ host            | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| **F**     | Laravel-–º–æ–¥–µ–ª–∏               | –°—Ä–µ–¥–Ω—è—è       | 26 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| F.0       | –ú–æ–¥–µ–ª—å PostType (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) | –ù–∏–∑–∫–∞—è        | 1 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| F.1       | –ú–æ–¥–µ–ª—å Blueprint             | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| F.2       | –ú–æ–¥–µ–ª—å Path                  | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| F.3       | –ú–æ–¥–µ–ª—å BlueprintEmbed        | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| F.4       | –ú–æ–¥–µ–ª—å Entry (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)    | –ù–∏–∑–∫–∞—è        | 3 —á          | –ù–∏–∑–∫–∏–π  | üî¥          |
| F.5       | –ú–æ–¥–µ–ª–∏ DocValue, DocRef      | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| F.6       | Trait HasDocumentData        | –í—ã—Å–æ–∫–∞—è       | 10 —á         | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| **G**     | –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö            | –í—ã—Å–æ–∫–∞—è       | 20 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| G.1       | –°–µ—Ä–≤–∏—Å EntryIndexer          | –í—ã—Å–æ–∫–∞—è       | 12 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| G.2       | Job ReindexBlueprint         | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| G.3       | Observer –¥–ª—è Entry           | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| **H**     | –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π               | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 48 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| H.1       | BlueprintStructureService    | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 32 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| H.2       | CyclicDependencyValidator    | –°—Ä–µ–¥–Ω—è—è       | 8 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| H.3       | PathConflictValidator        | –í—ã—Å–æ–∫–∞—è       | 8 —á          | –í—ã—Å–æ–∫–∏–π | üî¥          |
| **I**     | API –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã            | –°—Ä–µ–¥–Ω—è—è       | 34 —á         | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| I.0       | PostTypeController (–æ–±–Ω–æ–≤–ª.) | –ù–∏–∑–∫–∞—è        | 2 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| I.1       | BlueprintController          | –ù–∏–∑–∫–∞—è        | 6 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| I.2       | PathController               | –°—Ä–µ–¥–Ω—è—è       | 8 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| I.3       | BlueprintEmbedController     | –°—Ä–µ–¥–Ω—è—è       | 8 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| I.4       | EntryController (–æ–±–Ω–æ–≤–ª.)    | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| I.5       | –†–µ—Å—É—Ä—Å—ã (API Resources)      | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| **J**     | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ                 | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 64 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| J.1       | Unit: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤       | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| J.2       | Unit: –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è         | –í—ã—Å–æ–∫–∞—è       | 12 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| J.3       | Unit: –ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è      | –í—ã—Å–æ–∫–∞—è       | 10 —á         | –°—Ä–µ–¥–Ω–∏–π | üî¥          |
| J.4       | Feature: CRUD Blueprint      | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü°          |
| J.5       | Feature: CRUD Embeds         | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| J.6       | Feature: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è Entry    | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| J.7       | Integration: Full Flow       | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 12 —á         | –í—ã—Å–æ–∫–∏–π | üî¥          |
| J.8       | Performance: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ | –í—ã—Å–æ–∫–∞—è       | 8 —á          | –°—Ä–µ–¥–Ω–∏–π | üü¢          |
| **K**     | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è                  | –°—Ä–µ–¥–Ω—è—è       | 20 —á         | –°—Ä–µ–¥–Ω–∏–π | üü¢          |
| K.1       | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã        | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üü¢          |
| K.2       | –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ doc_values | –°—Ä–µ–¥–Ω—è—è       | 6 —á          | –°—Ä–µ–¥–Ω–∏–π | üü¢          |
| K.3       | –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è JOIN             | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| K.4       | Closure Table –¥–ª—è –≥—Ä–∞—Ñ–∞      | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –°—Ä–µ–¥–Ω–∏–π | üü¢          |
| **L**     | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏         | –ù–∏–∑–∫–∞—è        | 12 —á         | –ù–∏–∑–∫–∏–π  | üü¢          |
| L.1       | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏   | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| L.2       | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫             | –°—Ä–µ–¥–Ω—è—è       | 4 —á          | –°—Ä–µ–¥–Ω–∏–π | üü°          |
| L.3       | –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π              | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| **M**     | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è                 | –ù–∏–∑–∫–∞—è        | 16 —á         | –ù–∏–∑–∫–∏–π  | üü¢          |
| M.1       | Scribe API Documentation     | –ù–∏–∑–∫–∞—è        | 6 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| M.2       | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è        | –ù–∏–∑–∫–∞—è        | 6 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| M.3       | –î–∏–∞–≥—Ä–∞–º–º—ã                    | –ù–∏–∑–∫–∞—è        | 4 —á          | –ù–∏–∑–∫–∏–π  | üü¢          |
| **–ò–¢–û–ì–û** |                              |               | **~348 —á**   |         |             |

### 5.3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

```
–ù–∏–∑–∫–∞—è:           29 –ø–æ–¥–±–ª–æ–∫–æ–≤ (~57 —á)  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  16%
–°—Ä–µ–¥–Ω—è—è:          23 –ø–æ–¥–±–ª–æ–∫–∞  (~104 —á)  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë  30%
–í—ã—Å–æ–∫–∞—è:          11 –ø–æ–¥–±–ª–æ–∫–æ–≤ (~87 —á)   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë  25%
–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è:     6 –ø–æ–¥–±–ª–æ–∫–æ–≤ (~100 —á)  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  29%
```

---

## 6. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### 6.1. MoSCoW-–º–µ—Ç–æ–¥

#### **Must Have (–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã)**

| –ë–ª–æ–∫                   | –ù–∞–∑–≤–∞–Ω–∏–µ                      | –¢—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å | –ü–æ—Ä—è–¥–æ–∫ |
| ---------------------- | ----------------------------- | ------------ | ------- |
| A.1                    | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –°–£–ë–î             | 2 —á          | 1       |
| A.2                    | –¢–∞–±–ª–∏—Ü–∞ blueprints            | 1 —á          | 2       |
| A.3                    | –¢–∞–±–ª–∏—Ü–∞ paths                 | 4 —á          | 3       |
| A.4                    | –¢–∞–±–ª–∏—Ü–∞ blueprint_embeds      | 2 —á          | 4       |
| A.5                    | –ü–æ—Ä—è–¥–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π (5 —Ñ–∞–π–ª–æ–≤)   | 4 —á          | 5       |
| A.6.1                  | post_types.blueprint_id       | 1 —á          | 6       |
| F.0                    | –ú–æ–¥–µ–ª—å PostType (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)  | 1 —á          | 7       |
| F.1                    | –ú–æ–¥–µ–ª—å Blueprint              | 2 —á          | 8       |
| F.2                    | –ú–æ–¥–µ–ª—å Path                   | 6 —á          | 9       |
| F.3                    | –ú–æ–¥–µ–ª—å BlueprintEmbed         | 2 —á          | 10      |
| B.1                    | –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π             | 2 —á          | 11      |
| B.2                    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤               | 6 —á          | 12      |
| H.2                    | CyclicDependencyValidator     | 8 —á          | 13      |
| C.2                    | PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤          | 12 —á         | 14      |
| H.3                    | PathConflictValidator         | 8 —á          | 15      |
| C.3                    | –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∫–æ–ø–∏—Ä–æ–≤—â–∏–∫        | 16 —á         | 16      |
| C.1                    | –ê–ª–≥–æ—Ä–∏—Ç–º –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏       | 8 —á          | 17      |
| H.1                    | BlueprintStructureService     | 32 —á         | 18      |
| D.2                    | –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º—ã—Ö blueprint      | 4 —á          | 19      |
| D.3                    | –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è              | 2 —á          | 20      |
| D.4                    | Listener —Å –∫–∞—Å–∫–∞–¥–∞–º–∏          | 20 —á         | 21      |
| **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∏—Ç–æ–≥** | **MVP: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** | **143 —á**    |         |
| A.6                    | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å entries          | 1 —á          | 22      |
| A.7                    | –¢–∞–±–ª–∏—Ü–∞ doc_values            | 2 —á          | 23      |
| A.8                    | –¢–∞–±–ª–∏—Ü–∞ doc_refs              | 1 —á          | 24      |
| F.4                    | –ú–æ–¥–µ–ª—å Entry (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)     | 3 —á          | 25      |
| F.5                    | –ú–æ–¥–µ–ª–∏ DocValue, DocRef       | 2 —á          | 26      |
| G.1                    | –°–µ—Ä–≤–∏—Å EntryIndexer           | 12 —á         | 27      |
| G.2                    | Job ReindexBlueprint          | 4 —á          | 28      |
| **–ò–¢–û–ì–û Must Have**    | **–ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**   | **171 —á**    |         |

#### **Should Have (–í–∞–∂–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å)**

| –ë–ª–æ–∫                  | –ù–∞–∑–≤–∞–Ω–∏–µ                          | –¢—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å |
| --------------------- | --------------------------------- | ------------ |
| E.1-E.3               | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏      | 6 —á          |
| F.6                   | Trait HasDocumentData (wherePath) | 10 —á         |
| G.3                   | Observer –¥–ª—è Entry                | 4 —á          |
| I.0                   | PostTypeController (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)   | 2 —á          |
| I.1                   | BlueprintController               | 6 —á          |
| I.2                   | PathController                    | 8 —á          |
| I.3                   | BlueprintEmbedController          | 8 —á          |
| I.4                   | EntryController (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)      | 6 —á          |
| J.1-J.7               | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫—Ä–æ–º–µ Performance)  | 56 —á         |
| K.3                   | –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è JOIN                  | 4 —á          |
| L.2                   | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫                  | 4 —á          |
| **–ò–¢–û–ì–û Should Have** |                                   | **114 —á**    |

#### **Could Have (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)**

| –ë–ª–æ–∫                 | –ù–∞–∑–≤–∞–Ω–∏–µ                   | –¢—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å |
| -------------------- | -------------------------- | ------------ |
| B.3                  | Closure Table –¥–ª—è –≥—Ä–∞—Ñ–∞    | 4 —á          |
| C.4                  | –ü—Ä–∏–º–µ—Ä—ã –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏     | 4 —á          |
| D.5                  | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã  | 4 —á          |
| I.5                  | API Resources              | 4 —á          |
| J.8                  | Performance —Ç–µ—Å—Ç—ã          | 8 —á          |
| K.1                  | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã      | 6 —á          |
| K.2                  | –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ          | 6 —á          |
| K.4                  | Closure Table –¥–ª—è –≥—Ä–∞—Ñ–∞    | 4 —á          |
| L.1                  | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | 4 —á          |
| L.3                  | –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π            | 4 —á          |
| M.1                  | Scribe API Documentation   | 6 —á          |
| M.2                  | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è      | 6 —á          |
| M.3                  | –î–∏–∞–≥—Ä–∞–º–º—ã                  | 4 —á          |
| **–ò–¢–û–ì–û Could Have** |                            | **64 —á**     |

### 6.2. –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```
–≠—Ç–∞–ø 1: –ë–î –∏ –º–æ–¥–µ–ª–∏ (Must Have 1-10)
‚îú‚îÄ –ú–∏–≥—Ä–∞—Ü–∏–∏ (5 —Ñ–∞–π–ª–æ–≤)                    14 —á
‚îú‚îÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PostType                     1 —á
‚îú‚îÄ –ú–æ–¥–µ–ª–∏ (Blueprint, Path, Embed)        10 —á
‚îî‚îÄ –°–≤—è–∑–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è                       8 —á
   –ò–¢–û–ì–û:                                 33 —á  ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—é

–≠—Ç–∞–ø 2: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (Must Have 11-18)
‚îú‚îÄ –ì—Ä–∞—Ñ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤           16 —á
‚îú‚îÄ PRE-CHECK –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤             20 —á
‚îú‚îÄ –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è       24 —á
‚îî‚îÄ BlueprintStructureService        32 —á
   –ò–¢–û–ì–û:                           92 —á  ‚úÖ –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–≠—Ç–∞–ø 3: –ö–∞—Å–∫–∞–¥—ã (Must Have 19-21)
‚îú‚îÄ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º—ã—Ö                    4 —á
‚îú‚îÄ –°–æ–±—ã—Ç–∏—è                           2 —á
‚îî‚îÄ Listener —Å –∫–∞—Å–∫–∞–¥–∞–º–∏             20 —á
   –ò–¢–û–ì–û:                           26 —á  ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–≠—Ç–∞–ø 4: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (Must Have 22-28)
‚îú‚îÄ –ú–∏–≥—Ä–∞—Ü–∏–∏ (doc_values, doc_refs)   4 —á
‚îú‚îÄ –ú–æ–¥–µ–ª–∏ (Entry –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)         5 —á
‚îú‚îÄ EntryIndexer                      12 —á
‚îî‚îÄ Job ReindexBlueprint               4 —á
   –ò–¢–û–ì–û:                           25 —á  ‚úÖ –ó–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç

–≠—Ç–∞–ø 5: API (Should Have)
‚îú‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PostTypeController     2 —á
‚îú‚îÄ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã Blueprint (4 —à—Ç)     28 —á
‚îú‚îÄ Trait HasDocumentData            10 —á
‚îî‚îÄ Observer Entry                    4 —á
   –ò–¢–û–ì–û:                           44 —á  ‚úÖ REST API

–≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Should Have)
‚îú‚îÄ Unit (—Ü–∏–∫–ª—ã, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)     28 —á
‚îú‚îÄ Feature (CRUD)                   16 —á
‚îî‚îÄ Integration (full flow)          12 —á
   –ò–¢–û–ì–û:                           56 —á  ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–≠—Ç–∞–ø 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Could Have)
‚îú‚îÄ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ                       6 —á
‚îú‚îÄ –ò–Ω–¥–µ–∫—Å—ã                           4 —á
‚îú‚îÄ –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ                 6 —á
‚îî‚îÄ Closure Table                     8 —á
   –ò–¢–û–ì–û:                           24 —á  ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–≠—Ç–∞–ø 8: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Could Have)
‚îú‚îÄ Scribe API                        6 —á
‚îú‚îÄ –ü—Ä–∏–º–µ—Ä—ã                           6 —á
‚îî‚îÄ –î–∏–∞–≥—Ä–∞–º–º—ã                         4 —á
   –ò–¢–û–ì–û:                           16 —á  ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

**–û–±—â–∞—è —Ç—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç—å:** 316 —á–∞—Å–æ–≤ (~8 –Ω–µ–¥–µ–ª—å –¥–ª—è 1 dev, ~4 –Ω–µ–¥–µ–ª–∏ –¥–ª—è 2 dev)

---

## 7. –ü—Ä–∏–Ω—è—Ç—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è ‚úÖ

### 7.1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è (–ø–æ–ª—É—á–µ–Ω—ã –æ—Ç–≤–µ—Ç—ã)

| ‚Ññ   | –†–µ—à–µ–Ω–∏–µ                            | –ó–Ω–∞—á–µ–Ω–∏–µ                               | –í–ª–∏—è–Ω–∏–µ                                     |
| --- | ---------------------------------- | -------------------------------------- | ------------------------------------------- |
| 1   | **MySQL –≤–µ—Ä—Å–∏—è**                   | 8.0.16+ (CHECK constraints)            | ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–µ constraints          |
| 2   | **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å stupidCMS**         | Blueprint ‚Üí PostType ‚Üí Entry           | ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –≥–∏–±–∫–æ—Å—Ç—å         |
| 3   | **–¢–∞–±–ª–∏—Ü–∞ Entry**                  | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–∑ stupidCMS | ‚úÖ –ú–∏–Ω–∏–º—É–º –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã   |
| 4   | **–°–≤—è–∑—å Blueprint**                | PostType.blueprint_id (nullable)       | ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ blueprint     |
| 5   | **–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã**                   | –ì–∏–±—Ä–∏–¥–Ω—ã–π (—Å blueprint –∏ –±–µ–∑)          | ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è, –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º |
| 6   | **–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**                 | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è                             | ‚úÖ –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å              |
| 7   | **–í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã paths**               | –î–∞ (validation_rules JSON)             | ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ A.3                      |
| 8   | **SoftDeletes blueprint**          | –ù–µ—Ç                                    | ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–∞—Å–∫–∞–¥–æ–≤                       |
| 9   | **–õ–∏–º–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏**              | MAX_EMBED_DEPTH = 5                    | ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–µ–∫–∞             |
| 10  | **–ê–≤—Ç–æ–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ**             | –ù–µ—Ç                                    | ‚úÖ –Ø–≤–Ω—ã–µ –æ—à–∏–±–∫–∏, —Ä—É—á–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ          |
| 11  | **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è Entry –±–µ–∑ blueprint** | –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (blueprint_id = NULL)     | ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Entry             |

### 7.2. –û—Å—Ç–∞–≤—à–∏–µ—Å—è –≤–æ–ø—Ä–æ—Å—ã (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

| ‚Ññ   | –í–æ–ø—Ä–æ—Å                               | –í–ª–∏—è–Ω–∏–µ –Ω–∞ –±–ª–æ–∫–∏  | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è             |
| --- | ------------------------------------ | ----------------- | --------- | ------------------------ |
| 2   | PostgreSQL –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞?         | A.1, –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ | üü°        | –û—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ v2           |
| 6   | ON DELETE –¥–ª—è target_entry_id?       | A.8               | üü°        | RESTRICT (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)  |
| 8   | Closure Table –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω?            | B.3, K.4          | üü¢        | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (Could Have) |
| 10  | –û–ø—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (display_options)? | A.3, UI           | üü¢        | –û—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ v2           |
| 12  | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã?           | D.5               | üü¢        | Could Have               |
| 14  | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –≤ UI?             | B.1, UI           | üü¢        | Could Have               |
| 15  | Drag&drop –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏?            | E.1, UI           | üü¢        | Could Have               |

### 7.3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

| ‚Ññ   | –í–æ–ø—Ä–æ—Å                                           | –í–ª–∏—è–Ω–∏–µ –Ω–∞ –±–ª–æ–∫–∏ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
| --- | ------------------------------------------------ | ---------------- | --------- |
| 16  | –û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ blueprint –≤ —Å–∏—Å—Ç–µ–º–µ?        | B.3, K.4         | üü°        |
| 17  | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ paths –≤ –æ–¥–Ω–æ–º blueprint? | C.3, K.1         | üü°        |
| 18  | –û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Entry?                      | A.7, K.2         | üü°        |
| 19  | –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?              | J.8, K.\*, L.1   | üü¢        |
| 20  | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (HASH vs RANGE)?     | K.2              | üü¢        |

### 7.4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

| ‚Ññ   | –í–æ–ø—Ä–æ—Å                                                      | –í–ª–∏—è–Ω–∏–µ –Ω–∞ –±–ª–æ–∫–∏ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
| --- | ----------------------------------------------------------- | ---------------- | --------- |
| 21  | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Telescope, New Relic, Prometheus)? | L.1              | üü¢        |
| 22  | –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (Redis vs File)?                      | K.1              | üü°        |
| 23  | –û—á–µ—Ä–µ–¥–∏ (Redis, Database, SQS)?                             | G.2, D.4         | üü°        |
| 24  | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ–π audits?                  | L.3              | üü¢        |

---

## 8. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 8.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è ‚úÖ –ü–†–ò–ù–Ø–¢–´

1. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å stupidCMS –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞:**

    - Blueprint –∫—Ä–µ–ø–∏—Ç—Å—è –∫ PostType —á–µ—Ä–µ–∑ `post_types.blueprint_id` (nullable)
    - Entry –Ω–∞—Å–ª–µ–¥—É–µ—Ç blueprint —á–µ—Ä–µ–∑: `$entry->postType->blueprint`
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `entries`
    - –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º: —Å blueprint –∏ –±–µ–∑

2. ‚úÖ **–¶–µ–ª–µ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**

    - MySQL 8.0.16+ (CHECK constraints)
    - –ë–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π (—É–ø—Ä–æ—â–µ–Ω–∏–µ)

3. ‚úÖ **–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:**
    - –ì–∏–±—Ä–∏–¥–Ω—ã–π (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
    - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è Entry —Å blueprint

### 8.2. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∏–≥—Ä–∞—Ü–∏–π** (5 —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ)
2. **–°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –º–æ–¥–µ–ª–∏** (Blueprint, Path, BlueprintEmbed)
3. **–û–±–Ω–æ–≤–∏—Ç—å PostType** (–¥–æ–±–∞–≤–∏—Ç—å blueprint_id, —Å–≤—è–∑—å)
4. **–°–æ–∑–¥–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã** (CyclicDependencyValidator, PathConflictValidator)
5. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é** (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∫–æ–ø–∏—Ä–æ–≤—â–∏–∫, PRE-CHECK)

### 8.3. –ü–ª–∞–Ω –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–ª–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

```
1. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á (Task Breakdown)
   ‚îú‚îÄ –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø–æ–¥–±–ª–æ–∫–æ–≤ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏
   ‚îú‚îÄ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Acceptance Criteria –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
   ‚îî‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Jira/Linear/GitHub Issues

2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Graph)
   ‚îú‚îÄ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ DAG –∑–∞–¥–∞—á
   ‚îú‚îÄ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—É—Ç–∏
   ‚îî‚îÄ –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫

3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (Resource Allocation)
   ‚îú‚îÄ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   ‚îú‚îÄ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
   ‚îî‚îÄ –û—Ü–µ–Ω–∫–∞ —Å—Ä–æ–∫–æ–≤ (PERT-–∞–Ω–∞–ª–∏–∑)

4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –∫–æ–Ω—Ç—Ä–æ–ª—è (Milestones)
   ‚îú‚îÄ Milestone 1: –ë–î –∏ –º–æ–¥–µ–ª–∏ –≥–æ—Ç–æ–≤—ã
   ‚îú‚îÄ Milestone 2: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   ‚îú‚îÄ Milestone 3: –ö–∞—Å–∫–∞–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
   ‚îú‚îÄ Milestone 4: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
   ‚îú‚îÄ Milestone 5: API –≥–æ—Ç–æ–≤
   ‚îî‚îÄ Milestone 6: Production-ready

5. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Implementation Plan)
   ‚îú‚îÄ Roadmap —Å –¥–∞—Ç–∞–º–∏
   ‚îú‚îÄ Sprint planning (2-–Ω–µ–¥–µ–ª—å–Ω—ã–µ —Å–ø—Ä–∏–Ω—Ç—ã)
   ‚îú‚îÄ Definition of Done –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
   ‚îî‚îÄ Rollback-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è
```

### 8.3. –î–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã

1. **–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** (`implementation_plan.md`)

    - –†–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —Å–ø—Ä–∏–Ω—Ç—ã
    - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å Acceptance Criteria
    - –î–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞
    - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å

2. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** (`technical_specs/`)

    - –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
    - –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã API
    - –°—Ö–µ–º—ã –ë–î —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

3. **–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** (`testing_plan.md`)

    - –¢–µ—Å—Ç-–∫–µ–π—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞
    - –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    - Performance benchmarks

4. **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ** (`development_guide.md`)
    - –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∫–æ–¥—É
    - –ü—Ä–æ—Ü–µ—Å—Å code review
    - Troubleshooting guide

---

## 9. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä                | –ó–Ω–∞—á–µ–Ω–∏–µ                                             |
| ----------------------- | ---------------------------------------------------- |
| **–í–µ—Ä—Å–∏—è**              | 2.0 (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å stupidCMS)                         |
| **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**       | 2025-11-20                                           |
| **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**     | 2025-11-20 (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PostType ‚Üí Blueprint ‚Üí Entry) |
| **–ê–≤—Ç–æ—Ä**               | AI Assistant (Claude Sonnet 4.5)                     |
| **–ò—Å—Ö–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç**   | `document_path1.md` (6007 —Å—Ç—Ä–æ–∫)                     |
| **–°—Ç–∞—Ç—É—Å**              | ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏                                |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**         | PostType ‚Üí Blueprint ‚Üí Entry (—á–µ—Ä–µ–∑ FK)              |
| **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ—ë–º–∫–æ—Å—Ç–∏** | ~348 —á–∞—Å–æ–≤ (Must Have: 171 —á, Should Have: 114 —á)    |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤**   | 13 –æ—Å–Ω–æ–≤–Ω—ã—Ö, 68 –ø–æ–¥–±–ª–æ–∫–æ–≤                            |
| **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–æ—á–µ–∫**   | 7 (—Ä–∞–∑–¥–µ–ª 4.1)                                       |

---

## 10. –ì–ª–æ—Å—Å–∞—Ä–∏–π

| –¢–µ—Ä–º–∏–Ω                | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ                                                  |
| --------------------- | ------------------------------------------------------------ |
| **PostType**          | –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ stupidCMS (article, page, post)               |
| **Blueprint**         | –®–∞–±–ª–æ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ schema), –∫—Ä–µ–ø–∏—Ç—Å—è –∫ PostType |
| **Entry**             | –ó–∞–ø–∏—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –Ω–∞—Å–ª–µ–¥—É–µ—Ç blueprint —á–µ—Ä–µ–∑ PostType          |
| **Path**              | –ü–æ–ª–µ –≤–Ω—É—Ç—Ä–∏ blueprint —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º full_path          |
| **Embed**             | –°–≤—è–∑—å –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ blueprint –≤ –¥—Ä—É–≥–æ–π                  |
| **–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**    | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ blueprint                  |
| **PRE-CHECK**         | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ –ë–î                      |
| **–ö–∞—Å–∫–∞–¥**            | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ —Ü–µ–ø–æ—á–∫–µ          |
| **–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** | –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ —Å–≤—è–∑–µ–π —á–µ—Ä–µ–∑ embeds                     |
| **Closure Table**     | –¢–µ—Ö–Ω–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö —Å–≤—è–∑–µ–π –≤ –ë–î                    |
| **doc_values**        | –¢–∞–±–ª–∏—Ü–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ JSON                   |
| **full_path**         | –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –ø–æ–ª—è (e.g., `author.contacts.phone`)  |
| **–ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º**   | Entry –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å blueprint –∏–ª–∏ –±–µ–∑ (nullable FK)       |

---

**–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–ª–∞–Ω–æ–º —Å —É—á—ë—Ç–æ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ stupidCMS.**

**–ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ v2.0:** Blueprint ‚Üí PostType ‚Üí Entry (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞)

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å –≠—Ç–∞–ø–∞ 1 (–ë–î –∏ –º–æ–¥–µ–ª–∏) ‚Äî 33 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã.
